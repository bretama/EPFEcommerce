(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e043b946"],{"092a":function(t,e,s){},2681:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"invoice-page"}},[a("vx-card",[a("div",{staticClass:"vx-row leading-loose p-base"},[a("div",{staticClass:"vx-col w-full md:w-1/4"},[t.userDetails.profilePicture?a("vs-avatar",{attrs:{size:"150px",src:t.$domain+"/profiles/"+t.userDetails.profilePicture}}):t._e(),t.userDetails.profilePicture?t._e():a("vs-avatar",{attrs:{size:"150px",src:s("57eb")}})],1),a("div",{staticClass:"vx-col w-full md:w-1/3 text-left"},[a("h3",[t._v(t._s(t.$t("accountDetails")))]),a("div",{staticClass:"invoice__invoice-detail mt-6"},[a("h6",[t._v("Full Name.")]),a("p",{staticClass:"flex items-center"},[a("feather-icon",{attrs:{icon:"UserIcon",svgClasses:"h-4 w-4"}}),a("span",{staticClass:"ml-2"},[t._v(t._s(t.userDetails.firstName+" "+t.userDetails.lastName+" "+t.userDetails.grandFatherName))])],1),a("h6",{staticClass:"mt-4"},[t._v("Status")]),a("p",{staticClass:"text-success"},[t._v(t._s(t.userDetails.userStatus))]),t.changeProfile?t._e():a("vs-button",{staticClass:"small",attrs:{type:"gradient","icon-pack":"feather",icon:"icon-user"},on:{click:function(e){return t.toggleChangeVisibility()}}},[t._v("Change Profile")]),t.changeProfile?a("vs-button",{staticClass:"small",attrs:{type:"gradient","icon-pack":"feather",icon:"icon-x"},on:{click:t.toggleChangeVisibility}},[t._v("Cancel")]):t._e(),t.changeProfile?a("div",{staticClass:"vx-row"},[a("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("input",{ref:"file",staticClass:"file-upload rounded-lg mr-4 mt-2 vs-button small bg-grey vs-button-gradient w-64 text-sm",attrs:{type:"file",id:"file",name:"file"},on:{input:t.onSelect}})]),a("vs-button",{staticClass:"mt-2 text-white small text-sm",attrs:{color:"primary","icon-pack":"feather","text-color":"white",icon:"icon-upload"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("Upload")))])],1):t._e()],1)]),a("div",{staticClass:"vx-col w-full md:w-1/4 text-left"},[a("div",{staticClass:"invoice__invoice-detail mt-4 pt-6"},[a("h6",{staticClass:"mt-4"},[t._v("Phone Number.")]),a("p",{staticClass:"flex items-center"},[a("feather-icon",{attrs:{icon:"PhoneIcon",svgClasses:"h-4 w-4"}}),a("span",{staticClass:"ml-2"},[t._v(t._s(t.userDetails.mobilePhone))])],1),a("h6",{staticClass:"mt-4"},[t._v("Email.")]),a("p",{staticClass:"flex items-center"},[a("feather-icon",{attrs:{icon:"MailIcon",svgClasses:"h-4 w-4"}}),a("span",{staticClass:"ml-2"},[t._v(t._s(t.userDetails.email))])],1),a("vs-button",{staticClass:"small",attrs:{color:"warning",type:"filled","icon-pack":"feather",icon:"icon-lock"},on:{click:function(e){t.popUpActive=!0}}},[t._v("Change Password")])],1)]),a("vs-divider"),0!=t.userDetails.companyId?a("vx-card",{staticClass:"w-1/2 rounded-lg px-8",attrs:{title:t.$t("companyDetails"),"title-color":"#fff","content-color":"#000","card-background":"linear-gradient(120deg, #7f7fd0,#7367F0 ,#6a7fd0)"}},[a("div",{staticClass:"vx-col w-full md:w-3/4"},[a("div",{staticClass:"p-5 rounded-lg bg-grey-light invoice__recipient-info"},[a("p",[t._v("\n              Company Name:\n              "),a("span",{staticClass:"font-bold"},[a("small",[t._v(t._s(t.companyDetails.companyName))])])]),a("p",[t._v("\n              Licence Number :\n              "),a("span",{staticClass:"font-bold"},[a("small",[t._v(t._s(t.companyDetails.licenceNumber))])])]),a("p",[t._v("\n              Tin Number:\n              "),a("span",{staticClass:"font-bold"},[a("small",[t._v(t._s(t.companyDetails.tinNumber))])])]),a("p",{staticClass:"flex items-center"},[a("feather-icon",{attrs:{icon:"MapIcon",svgClasses:"h-4 w-4"}}),a("span",{staticClass:"ml-2 font-bold"},[t._v(t._s(t.companyDetails.street+" "+t.companyDetails.woredaCity+" "+t.companyDetails.region))])],1)])])]):t._e()],1),a("vs-popup",{attrs:{classContent:"popup-example",title:"Change Password",active:t.popUpActive},on:{"update:active":function(e){t.popUpActive=e}}},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"oldPassword",staticClass:"w-full mb-2",attrs:{name:"oldPassword","icon-pack":"feather",icon:"icon-link",type:"password",placeholder:"Old Password"},model:{value:t.oldPassword,callback:function(e){t.oldPassword=e},expression:"oldPassword"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("oldPassword"),expression:"errors.has('oldPassword')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("oldPassword")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],ref:"newPassword",staticClass:"w-full",attrs:{name:"newPassword","icon-pack":"feather",icon:"icon-lock",type:"password",placeholder:"New Password"},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("newPassword"),expression:"errors.has('newPassword')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("newPassword")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:newPassword",expression:"'required|confirmed:newPassword'"}],staticClass:"mt-2 mb-2 w-full",attrs:{name:"confirmationPassword","icon-pack":"feather",type:"password",icon:"icon-shield",placeholder:"Confirmation Password"},model:{value:t.confirmationPassword,callback:function(e){t.confirmationPassword=e},expression:"confirmationPassword"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("confirmationPassword"),expression:"errors.has('confirmationPassword')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("confirmationPassword")))]),a("div",[a("vs-button",{attrs:{color:"primary",type:"filled"},on:{click:function(e){return e.preventDefault(),t.acceptButton.apply(null,arguments)}}},[t._v("Change Password")])],1)],1)],1)],1)},i=[],o=s("56d7"),n={data:function(){return{companyDetails:{companyId:"",accountId:"",companyName:"",licenceNumber:"",companyStatus:"",registrationDate:""},userDetails:{firstName:"",lastName:"",gfatherName:"",email:"",mobilePhone:"",userType:"",companyId:""},popUpActive:!1,oldPassword:"",newPassword:"",confirmationPassword:"",changeProfile:!1,isFileSelected:""}},computed:{},created:function(){this.getUserDetail()},mounted:function(){},methods:{onSelect:function(){var t=this.$refs.file.files[0];"image/png"==t.type||"image/jpg"==t.type||"image/jpeg"==t.type||"image/gif"==t.type?(this.isFileSelected=!0,this.file=t):(this.isFileSelected=!1,this.$vs.notify({title:this.$t("Error"),text:this.$t("pleaseSelectOnlyImages"),position:"top-right",duration:7e3,color:"danger"}))},onSubmit:function(){var t=this;if(this.isFileSelected){var e=localStorage.getItem("userId"),s=new FormData;s.append("profilePicture",this.file),s.append("userId",e);try{this.$http.post("/accounts/uploadprofile",s).then((function(e){t.$vs.notify({title:"Notification",text:e.data,position:"top-right",color:"success",iconPack:"feather",icon:"icon-check",time:4e3}),t.changeProfile=!1,t.getUserDetail(),o["eventBus"].$emit("fireFetchUser")}))}catch(a){}}},toggleChangeVisibility:function(){return this.changeProfile=!this.changeProfile},acceptButton:function(){var t=this;this.$validator.validateAll().then((function(e){e?t.changePassword():t.$vs.notify({title:"Error",text:"Please enter valid details",color:"warning",iconPack:"feather",icon:"icon-alert-circle"})}))},close:function(){this.$vs.notify({color:"danger",title:"Closed",text:"Password didn't change!"})},clearValMultiple:function(){this.oldPassword="",this.newPassword="",this.confirmationPassword=""},getUserDetail:function(){var t=this,e=localStorage.getItem("userId");this.$http.get("/accounts/".concat(e)).then((function(e){t.userDetails=e.data,t.getCompanyDetail()}))},getCompanyDetail:function(){var t=this;this.$http.get("/company/".concat(this.userDetails.companyId)).then((function(e){t.companyDetails=e.data}))},changePassword:function(){var t=this;this.$http.put("/auth/changepassword/",{email:this.userDetails.email,oldPassword:this.oldPassword,newPassword:this.newPassword}).then((function(e){console.log(e),t.popUpActive=!1,t.clearValMultiple(),"Password changed successfully"==e.data?t.$vs.notify({title:"Confirmation",text:"Password changed successfully",color:"success"}):t.$vs.notify({title:"Error",text:"Somthing went wrong. Please try again.",color:"danger"})})).catch((function(e){t.$vs.notify({title:"Error",time:3500,position:"top-right",text:"Somthing went wrong. Please insert correct credentials.",color:"danger",iconPack:"feather",icon:"icon-alert-circle"})}))}},components:{}},r=n,l=(s("c2b0"),s("2877")),c=Object(l["a"])(r,a,i,!1,null,"8a1bc704",null);e["default"]=c.exports},"57eb":function(t,e,s){t.exports=s.p+"img/CnDoEPXVInjLaSTWgvVYaYOrd0UJGz.ee90acc8.png"},c2b0:function(t,e,s){"use strict";s("092a")}}]);
//# sourceMappingURL=chunk-e043b946.f2e8bb54.js.map