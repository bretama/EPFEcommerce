{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/views/pages/order/manageOrderDeliveryStatus.vue?64d2","webpack:///src/views/pages/order/manageOrderDeliveryStatus.vue","webpack:///./src/views/pages/order/manageOrderDeliveryStatus.vue?c5ad","webpack:///./src/views/pages/order/manageOrderDeliveryStatus.vue"],"names":["fails","module","exports","method","arg","call","$export","aFunction","toObject","$sort","sort","test","P","F","undefined","comparefn","this","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","$t","order","companyName","_e","companyId","orderNumber","_f","orderedDateTime","siteName","deliveryDateTime","deliveryAddress","isLoading","fullPage","on","$event","staticStyle","saveOrderItemStatuses","_l","orderItem","orderItemIndex","key","secondInventoryBackup","inventoryGenericName","dosageForm","strength","orderQuantity","preOrderQuantity","orderItemStatuses","find","ois","orderItemId","orderItemStatus","statusIndex","orderStatusType","orderStatusTypes","ost","orderStatusTypeId","statuses","handleQuantity","model","value","callback","$$v","$set","expression","removeItemStatus","errorMessage","popUpActive","save","isLoadingPayment","directives","name","rawName","typeOfPayment","selectedPaymentType","errors","has","first","typeOfOrderStatuses","selectedOrderStatus","pickUpOrderStatuses","preOrderPopUpActive","selectedPaymentTypePreOrder","selectedOrderStatusPreOrder","staticRenderFns","data","id","secondInventory","companyDetails","accountId","licenceNumber","companyStatus","registrationDate","userDetails","firstName","lastName","gfatherName","email","mobilePhone","userType","oldPassword","newPassword","confirmationPassword","changePassword","showConfirmOrderPopup","showRejectOrderPopup","orderRejectionReason","orderRejectionReasonError","computed","getSortedOrderStatusTypes","userIsLogistics","created","getOrderById","methods","addNextOrderItemStatus","getNextOrderStatusTypeId","nextOrderStatusType","latestPrevOrderStatusTypeId","latestPrevOrderStatusType","validateOrderStatusType","$forceUpdate","idx","totalQuantity","i","splice","addOrderItemStatuses","quantity","getOrderStatusTypes","orderTypeId","params","then","sendNewNotification","message","statusInfo","senderId","receiverId","detailLink","$http","post","title","text","position","duration","color","catch","get","index","getInventoryById","iconPack","icon","orderItemsStatusInfo","notificationMessage","getUserDetail","getOrderItemsStatusByOrderId","components","Loading","OrderVerification","component"],"mappings":"kHACA,IAAIA,EAAQ,EAAQ,QAEpBC,EAAOC,QAAU,SAAUC,EAAQC,GACjC,QAASD,GAAUH,GAAM,WAEvBI,EAAMD,EAAOE,KAAK,MAAM,cAA6B,GAAKF,EAAOE,KAAK,W,oCCL1E,IAAIC,EAAU,EAAQ,QAClBC,EAAY,EAAQ,QACpBC,EAAW,EAAQ,QACnBR,EAAQ,EAAQ,QAChBS,EAAQ,GAAGC,KACXC,EAAO,CAAC,EAAG,EAAG,GAElBL,EAAQA,EAAQM,EAAIN,EAAQO,GAAKb,GAAM,WAErCW,EAAKD,UAAKI,QACLd,GAAM,WAEXW,EAAKD,KAAK,WAEL,EAAQ,OAAR,CAA4BD,IAAS,QAAS,CAEnDC,KAAM,SAAcK,GAClB,YAAqBD,IAAdC,EACHN,EAAMJ,KAAKG,EAASQ,OACpBP,EAAMJ,KAAKG,EAASQ,MAAOT,EAAUQ,Q,2CCpB7C,IAAIE,EAAS,WAAa,IAAIC,EAAIF,KAASG,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,iBAAiB,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,GAAK,gBAAgB,MAAQ,GAAG,YAAY,GAAG,cAAc,KAAK,CAACF,EAAG,MAAM,CAACG,YAAY,wBAAwB,CAACH,EAAG,MAAM,CAACG,YAAY,oCAAoC,CAACH,EAAG,MAAM,CAACG,YAAY,2BAA2B,CAACH,EAAG,KAAK,CAACG,YAAY,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAG,mBAAmBN,EAAG,IAAI,CAACG,YAAY,qBAAqB,CAACH,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,gBAAgB,WAAa,aAAcL,EAAIU,MAAiB,YAAEP,EAAG,OAAO,CAACG,YAAY,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIU,MAAMC,aAAe,uBAAuBX,EAAIY,KAA6B,GAAvBZ,EAAIU,MAAMG,UAAgBV,EAAG,OAAO,CAACG,YAAY,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAG,uBAAuBR,EAAIY,MAAM,OAAOT,EAAG,MAAM,CAACG,YAAY,oCAAoC,CAACH,EAAG,MAAM,CAACG,YAAY,2BAA2B,CAACH,EAAG,KAAK,CAACG,YAAY,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAG,mBAAmBN,EAAG,IAAI,CAACG,YAAY,qBAAqB,CAACH,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,WAAW,WAAa,aAAaF,EAAG,OAAO,CAACG,YAAY,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIU,MAAMI,iBAAiB,OAAOX,EAAG,MAAM,CAACG,YAAY,oCAAoC,CAACH,EAAG,MAAM,CAACG,YAAY,2BAA2B,CAACH,EAAG,KAAK,CAACG,YAAY,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAG,iBAAiBN,EAAG,IAAI,CAACG,YAAY,qBAAqB,CAACH,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,YAAY,WAAa,aAAaF,EAAG,OAAO,CAACG,YAAY,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIe,GAAG,QAAPf,CAAgBA,EAAIU,MAAMM,sBAAsB,OAAOb,EAAG,MAAM,CAACG,YAAY,oCAAoC,CAACH,EAAG,MAAM,CAACG,YAAY,2BAA2B,CAAsB,MAApBN,EAAIU,MAAMO,SAAgBd,EAAG,KAAK,CAACG,YAAY,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAG,kBAAkBN,EAAG,KAAK,CAACG,YAAY,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAG,oBAAoBN,EAAG,IAAI,CAACG,YAAY,qBAAqB,CAACH,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,YAAY,WAAa,aAAcL,EAAIU,MAAsB,iBAAEP,EAAG,OAAO,CAACG,YAAY,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIe,GAAG,QAAPf,CAAgBA,EAAIU,MAAMQ,sBAAsBf,EAAG,OAAO,CAACG,YAAY,QAAQ,CAACN,EAAIO,GAAG,oBAAoB,OAAOJ,EAAG,MAAM,CAACG,YAAY,oCAAoC,CAACH,EAAG,MAAM,CAACG,YAAY,2BAA2B,CAAsB,MAApBN,EAAIU,MAAMO,SAAgBd,EAAG,OAAO,CAACA,EAAG,KAAK,CAACG,YAAY,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAG,sBAAsBN,EAAG,IAAI,CAACG,YAAY,qBAAqB,CAACH,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,aAAa,WAAa,aAAaF,EAAG,OAAO,CAACG,YAAY,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIU,MAAMO,cAAc,KAAKd,EAAG,OAAO,CAACA,EAAG,KAAK,CAACG,YAAY,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAG,wBAAwBN,EAAG,IAAI,CAACG,YAAY,qBAAqB,CAACH,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,aAAa,WAAa,aAAaF,EAAG,OAAO,CAACG,YAAY,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIU,MAAMS,qBAAqB,SAAShB,EAAG,UAAU,CAACE,MAAM,CAAC,OAASL,EAAIoB,UAAU,cAAa,EAAK,eAAepB,EAAIqB,UAAUC,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAIoB,UAAUG,MAAWpB,EAAG,MAAM,CAACG,YAAY,2BAA2B,CAACH,EAAG,MAAM,CAACA,EAAG,MAAM,CAACG,YAAY,SAASkB,YAAY,CAAC,OAAS,yBAAyB,CAACrB,EAAG,MAAM,CAACG,YAAY,iBAAiB,CAACH,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,KAAK,CAACG,YAAY,8BAA8B,CAACH,EAAG,SAAS,CAACH,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAG,gCAAgCN,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAAEN,EAAmB,gBAAEG,EAAG,YAAY,CAACG,YAAY,cAAcD,MAAM,CAAC,MAAQ,UAAU,KAAO,SAAS,YAAY,UAAU,KAAO,aAAaiB,GAAG,CAAC,MAAQtB,EAAIyB,wBAAwB,CAACzB,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAG,YAAYT,EAAIY,MAAM,OAAOT,EAAG,MAAM,CAACG,YAAY,wBAAwB,CAACH,EAAG,MAAM,CAACG,YAAY,6BAA6B,CAACN,EAAIO,GAAG,OAAOJ,EAAG,MAAM,CAACG,YAAY,6BAA6B,CAACH,EAAG,SAAS,CAACH,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAG,qBAAqBN,EAAG,MAAM,CAACG,YAAY,6BAA6B,CAACH,EAAG,SAAS,CAACH,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAG,kBAAkBN,EAAG,MAAM,CAACG,YAAY,6BAA6B,CAACH,EAAG,SAAS,CAACH,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAG,kBAAkBT,EAAI0B,GAAI1B,EAAIU,MAAgB,YAAE,SAASiB,EAAUC,GAAgB,OAAOzB,EAAG,MAAM,CAAC0B,IAAID,EAAetB,YAAY,UAAU,CAACH,EAAG,MAAM,CAACG,YAAY,eAAeD,MAAM,CAAC,KAAOuB,IAAiB,CAAC5B,EAAIO,GAAGP,EAAIQ,GAAGoB,EAAe,MAAMzB,EAAG,MAAM,CAACG,YAAY,eAAeD,MAAM,CAAC,KAAOL,EAAI8B,sBAAsBF,IAAmB5B,EAAI8B,sBAAsBF,GAAgBG,uBAAuB,CAAC/B,EAAIO,GAAGP,EAAIQ,GAAGR,EAAI8B,sBAAsBF,IAAmB5B,EAAI8B,sBAAsBF,GAAgBG,sBAAsB,IAAI/B,EAAIQ,GAAGR,EAAI8B,sBAAsBF,IAA2E,MAAxD5B,EAAI8B,sBAAsBF,GAAgBI,WAAqBhC,EAAI8B,sBAAsBF,GAAgBI,WAAa,IAAI,IAAIhC,EAAIQ,GAAGR,EAAI8B,sBAAsBF,IAAyE,MAAtD5B,EAAI8B,sBAAsBF,GAAgBK,SAAmBjC,EAAI8B,sBAAsBF,GAAgBK,SAAW,IAAI,oBAAoB9B,EAAG,MAAM,CAACG,YAAY,eAAeD,MAAM,CAAC,KAAOsB,EAAUO,gBAAgB,CAAClC,EAAIO,GAAGP,EAAIQ,GAAGmB,EAAUO,eAAe,oBAAoB/B,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,MAAM,CAACG,YAAY,eAAe,CAACH,EAAG,MAAM,CAACG,YAAY,6BAA6B,CAACN,EAAIO,GAAG,uBAAuBP,EAAIQ,GAAGR,EAAIS,GAAG,gBAAgB,wBAAwBN,EAAG,MAAM,CAACG,YAAY,6BAA6B,CAACN,EAAIO,GAAG,uBAAuBP,EAAIQ,GAAGR,EAAIS,GAAG,cAAekB,EAAUQ,iBAAmB,EAAGhC,EAAG,OAAO,CAACG,YAAY,eAAe,CAACN,EAAIO,GAAG,OAAOP,EAAIQ,GAAGR,EAAIS,GAAG,aAAa,MAAMN,EAAG,IAAI,CAACG,YAAY,kBAAkB,CAACN,EAAIO,GAAG,MAAMP,EAAIQ,GAAGmB,EAAUQ,kBAAkB,YAAYnC,EAAIY,OAAOT,EAAG,MAAM,CAACG,YAAY,wBAAoHV,IAAhGI,EAAIoC,kBAAkBC,MAAK,SAAUC,GAAM,OAAOA,EAAIC,cAAcZ,EAAUY,eAA6BpC,EAAG,MAAMH,EAAI0B,GAAI1B,EAAIoC,kBAAkBC,MAAK,SAAUC,GAAM,OAAOA,EAAIC,cAAcZ,EAAUY,eAAwB,UAAE,SAASC,EAAgBC,GAAa,OAAOtC,EAAG,MAAM,CAAC0B,IAAIY,GAAa,EAAGzC,EAAI0C,gBAAkB1C,EAAI2C,iBAAiBN,MAAK,SAAUO,GAAM,OAAOA,EAAIC,oBAAsB7C,EAAIoC,kBAAkBC,MAAK,SAAUC,GAAM,OAAOA,EAAIC,cAAcZ,EAAUY,eAAgBO,SAASL,GAAaI,sBAAwB1C,EAAG,MAAM,CAACG,YAAY,eAAe,CAACH,EAAG,MAAM,CAACG,YAAY,eAAekB,YAAY,CAAC,cAAc,SAAS,CAACxB,EAAIO,GAAG,uBAAuBP,EAAIQ,GAAGR,EAAI0C,gBAAgBA,iBAAiB,0BAA0BvC,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,WAAW,CAACG,YAAY,SAASD,MAAM,CAAC,KAAO,UAAUiB,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOvB,EAAI+C,eAAepB,EAAWC,EAAgBa,KAAeO,MAAM,CAACC,MAAOjD,EAAIoC,kBAAkBC,MAAK,SAAUC,GAAM,OAAOA,EAAIC,cAAcZ,EAAUY,eAAgBO,SAASL,GAAqB,SAAES,SAAS,SAAUC,GAAMnD,EAAIoD,KAAKpD,EAAIoC,kBAAkBC,MAAK,SAAUC,GAAM,OAAOA,EAAIC,cAAcZ,EAAUY,eAAgBO,SAASL,GAAc,WAAYU,IAAME,WAAW,0GAA0G,GAAGlD,EAAG,MAAM,CAACG,YAAY,OAAO,CAAEmC,EAAc,EAAGtC,EAAG,OAAO,CAACmB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIsD,iBAAiB1B,EAAgBa,MAAgB,CAACtC,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,SAAS,YAAY,UAAU,KAAO,kBAAkB,GAAGL,EAAIY,OAAQZ,EAAIoC,kBAAkBR,GAAgBkB,SAASL,GAAyB,aAAEtC,EAAG,MAAM,CAACG,YAAY,UAAU,CAACH,EAAG,OAAO,CAACG,YAAY,cAAckB,YAAY,CAAC,cAAc,SAAS,CAACxB,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIoC,kBAAkBR,GAAgBkB,SAASL,GAAac,mBAAmBvD,EAAIY,OAAOZ,EAAIY,UAAS,GAAGZ,EAAIY,YAAWT,EAAG,MAAM,CAACG,YAAY,SAASkB,YAAY,CAAC,aAAa,yBAAyB,CAACrB,EAAG,MAAM,CAACG,YAAY,iBAAiB,CAACH,EAAG,MAAM,CAACG,YAAY,iBAAiBH,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAAEN,EAAmB,gBAAEG,EAAG,YAAY,CAACG,YAAY,cAAcD,MAAM,CAAC,MAAQ,UAAU,KAAO,SAAS,YAAY,UAAU,KAAO,aAAaiB,GAAG,CAAC,MAAQtB,EAAIyB,wBAAwB,CAACzB,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAG,YAAYT,EAAIY,MAAM,QAAQ,MAAM,GAAGT,EAAG,YAAY,CAACE,MAAM,CAAC,WAAaL,EAAIS,GAAG,QAAQ,WAAaT,EAAIS,GAAG,UAAU,aAAe,gBAAgB,MAAQ,kBAAkB,OAAST,EAAIwD,aAAalC,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOvB,EAAIyD,QAAQ,gBAAgB,SAASlC,GAAQvB,EAAIwD,YAAYjC,KAAU,CAACpB,EAAG,KAAK,CAACH,EAAIO,GAAG,oBAAoBJ,EAAG,UAAU,CAACE,MAAM,CAAC,OAASL,EAAI0D,iBAAiB,cAAa,EAAK,eAAe1D,EAAIqB,UAAUC,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAI0D,iBAAiBnC,MAAWpB,EAAG,WAAW,CAACwD,WAAW,CAAC,CAACC,KAAK,WAAWC,QAAQ,aAAaZ,MAAM,WAAaI,WAAW,eAAe/C,YAAY,uDAAuDD,MAAM,CAAC,QAAUL,EAAI8D,cAAc,KAAO,eAAed,MAAM,CAACC,MAAOjD,EAAuB,oBAAEkD,SAAS,SAAUC,GAAMnD,EAAI+D,oBAAoBZ,GAAKE,WAAW,yBAA8C,MAApBrD,EAAIU,MAAMO,SAAgBd,EAAG,MAAM,CAACA,EAAG,OAAO,CAACwD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASZ,MAAOjD,EAAIgE,OAAOC,IAAI,eAAgBZ,WAAW,8BAA8B/C,YAAY,uBAAuB,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIgE,OAAOE,MAAM,mBAAmB/D,EAAG,KAAK,CAACH,EAAIO,GAAG,kBAAkBJ,EAAG,WAAW,CAACwD,WAAW,CAAC,CAACC,KAAK,WAAWC,QAAQ,aAAaZ,MAAM,WAAaI,WAAW,eAAe/C,YAAY,uDAAuDD,MAAM,CAAC,QAAUL,EAAImE,oBAAoB,KAAO,cAAcnB,MAAM,CAACC,MAAOjD,EAAuB,oBAAEkD,SAAS,SAAUC,GAAMnD,EAAIoE,oBAAoBjB,GAAKE,WAAW,yBAAyBlD,EAAG,OAAO,CAACwD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASZ,MAAOjD,EAAIgE,OAAOC,IAAI,cAAeZ,WAAW,6BAA6B/C,YAAY,uBAAuB,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIgE,OAAOE,MAAM,mBAAmB,GAAG/D,EAAG,MAAM,CAACA,EAAG,OAAO,CAACwD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASZ,MAAOjD,EAAIgE,OAAOC,IAAI,eAAgBZ,WAAW,8BAA8B/C,YAAY,uBAAuB,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIgE,OAAOE,MAAM,mBAAmB/D,EAAG,KAAK,CAACH,EAAIO,GAAG,kBAAkBJ,EAAG,WAAW,CAACwD,WAAW,CAAC,CAACC,KAAK,WAAWC,QAAQ,aAAaZ,MAAM,WAAaI,WAAW,eAAe/C,YAAY,uDAAuDD,MAAM,CAAC,QAAUL,EAAIqE,oBAAoB,KAAO,cAAcrB,MAAM,CAACC,MAAOjD,EAAuB,oBAAEkD,SAAS,SAAUC,GAAMnD,EAAIoE,oBAAoBjB,GAAKE,WAAW,yBAAyBlD,EAAG,OAAO,CAACwD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASZ,MAAOjD,EAAIgE,OAAOC,IAAI,cAAeZ,WAAW,6BAA6B/C,YAAY,uBAAuB,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIgE,OAAOE,MAAM,mBAAmB,IAAI,GAAIlE,EAAuB,oBAAEG,EAAG,YAAY,CAACE,MAAM,CAAC,WAAaL,EAAIS,GAAG,QAAQ,WAAaT,EAAIS,GAAG,UAAU,aAAe,gBAAgB,MAAQ,kBAAkB,OAAST,EAAIsE,qBAAqBhD,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOvB,EAAIyD,QAAQ,gBAAgB,SAASlC,GAAQvB,EAAIsE,oBAAoB/C,KAAU,CAACpB,EAAG,KAAK,CAACH,EAAIO,GAAG,oBAAoBJ,EAAG,UAAU,CAACE,MAAM,CAAC,OAASL,EAAI0D,iBAAiB,cAAa,EAAK,eAAe1D,EAAIqB,UAAUC,GAAG,CAAC,gBAAgB,SAASC,GAAQvB,EAAI0D,iBAAiBnC,MAAWpB,EAAG,WAAW,CAACwD,WAAW,CAAC,CAACC,KAAK,WAAWC,QAAQ,aAAaZ,MAAM,WAAaI,WAAW,eAAe/C,YAAY,uDAAuDD,MAAM,CAAC,QAAUL,EAAI8D,cAAc,KAAO,eAAed,MAAM,CAACC,MAAOjD,EAA+B,4BAAEkD,SAAS,SAAUC,GAAMnD,EAAIuE,4BAA4BpB,GAAKE,WAAW,iCAAsD,MAApBrD,EAAIU,MAAMO,SAAgBd,EAAG,MAAM,CAACA,EAAG,OAAO,CAACwD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASZ,MAAOjD,EAAIgE,OAAOC,IAAI,eAAgBZ,WAAW,8BAA8B/C,YAAY,uBAAuB,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIgE,OAAOE,MAAM,mBAAmB/D,EAAG,KAAK,CAACH,EAAIO,GAAG,kBAAkBJ,EAAG,WAAW,CAACwD,WAAW,CAAC,CAACC,KAAK,WAAWC,QAAQ,aAAaZ,MAAM,WAAaI,WAAW,eAAe/C,YAAY,uDAAuDD,MAAM,CAAC,QAAUL,EAAImE,oBAAoB,KAAO,cAAcnB,MAAM,CAACC,MAAOjD,EAA+B,4BAAEkD,SAAS,SAAUC,GAAMnD,EAAIwE,4BAA4BrB,GAAKE,WAAW,iCAAiClD,EAAG,OAAO,CAACwD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASZ,MAAOjD,EAAIgE,OAAOC,IAAI,cAAeZ,WAAW,6BAA6B/C,YAAY,uBAAuB,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIgE,OAAOE,MAAM,mBAAmB,GAAG/D,EAAG,MAAM,CAACA,EAAG,OAAO,CAACwD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASZ,MAAOjD,EAAIgE,OAAOC,IAAI,eAAgBZ,WAAW,8BAA8B/C,YAAY,uBAAuB,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIgE,OAAOE,MAAM,mBAAmB/D,EAAG,KAAK,CAACH,EAAIO,GAAG,kBAAkBJ,EAAG,WAAW,CAACwD,WAAW,CAAC,CAACC,KAAK,WAAWC,QAAQ,aAAaZ,MAAM,WAAaI,WAAW,eAAe/C,YAAY,uDAAuDD,MAAM,CAAC,QAAUL,EAAIqE,oBAAoB,KAAO,cAAcrB,MAAM,CAACC,MAAOjD,EAA+B,4BAAEkD,SAAS,SAAUC,GAAMnD,EAAIwE,4BAA4BrB,GAAKE,WAAW,iCAAiClD,EAAG,OAAO,CAACwD,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASZ,MAAOjD,EAAIgE,OAAOC,IAAI,cAAeZ,WAAW,6BAA6B/C,YAAY,uBAAuB,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIgE,OAAOE,MAAM,mBAAmB,IAAI,GAAGlE,EAAIY,MAAM,IAAI,IAC1/Z6D,EAAkB,G,oIC4UP,GACbC,KADF,WAEI,MAAO,CACLC,GAAIA,KAAKA,OAAOA,OAAOA,GACvBjE,MAAOA,CACLkE,gBAAiBA,IAEnB9C,sBAAuBA,GACvBqC,oBAAqBA,CAACA,qBAAsBA,aAAcA,aAC1DE,oBAAqBA,CAACA,oBACtBP,cAAeA,CAACA,OAAQA,WAAYA,eACpCC,oBAAqBA,GACrBK,oBAAqBA,GACrBS,eAAgBA,CACdhE,UAAWA,GACXiE,UAAWA,GACXnE,YAAaA,GACboE,cAAeA,GACfC,cAAeA,GACfC,iBAAkBA,IAEpBC,YAAaA,CACXC,UAAWA,GACXC,SAAUA,GACVC,YAAaA,GACbC,MAAOA,GACPC,YAAaA,GACbC,SAAUA,GACV3E,UAAWA,IAEb2C,aAAaA,EACbc,qBAANA,EACMmB,YAAaA,GACbC,YAAaA,GACbC,qBAAsBA,GACtBC,gBAAgBA,EAChBxE,WAAWA,EACXsC,kBAAkBA,EAClBrC,UAAUA,EACVkD,4BAANA,GACMC,4BAANA,GACMqB,uBAAuBA,EACvBC,sBAAsBA,EACtBC,qBAAsBA,GACtBC,0BAA2BA,GAC3BrD,iBAAkBA,GAClBP,kBAAmBA,KAGvB6D,SAAUA,CACRC,0BADJ,WAEM,OAAOpG,KAAK6C,iBAAiBnD,MAAK,SAAxC,kCAEI2G,gBAJJ,WAKM,IAAN,mCACM,MAAN,cAAaX,IAGXY,QA1DF,WA2DItG,KAAKuG,gBAGPC,QAASA,CACPC,uBADJ,WAEM,IADN,sBACA3E,GACQ,IAAR,wBACA,0FACA,uCACA,6BAJA,6CAOI4E,yBATJ,SASA7E,EAAAC,EAAAa,GACM,IAAIgE,OAAV,EACM,GAAN,+KAIA,CACQ,IAAIC,EAA8B5G,KAAKsC,kBAAkBC,MAAK,SAAtE,yEACYsE,EAA4B7G,KAAKoG,0BAA0B7D,MAAK,SAA5E,qCAEAoE,GADA,2CACAA,kCAEAA,iDAAU,OAAV,0BATA,0CACAA,qCAUM,OAAOA,EAAb,uBAEIG,wBAzBJ,SAyBAhF,EAAAa,GACM,IAAN,0DACA,mGACQ3C,KAAKsC,kBAAkBR,GAAgBkB,SAASL,GAAac,aAArE,qIACQzD,KAAKsC,kBAAkBR,GAAgBkB,SAASL,GAAaI,kBAArE,IAEQ/C,KAAKsC,kBAAkBR,GAAgBkB,SAASL,GAAac,aAArE,GAEMzD,KAAK+G,gBAEP9D,eAnCJ,SAmCApB,EAAAC,EAAAkF,GAGM,IAFA,IAAN,IACA,yDACA,oDACQC,GAAiBA,OAAOA,KAAKA,kBAAkBA,GAAgBA,SAASA,GAAGA,UAC3EjH,KAAKsC,kBAAkBR,GAAgBkB,SAASkE,GAAGzD,aAA3D,GAEM,IAAN,yEACA,0BACQzD,KAAKsC,kBAAkBR,GAAgBkB,SAASgE,GAAKvD,aAA7D,2EACA,0BACQzD,KAAKsC,kBAAkBR,GAAgBkB,SAASgE,GAAKvD,aAA7D,sCAEQzD,KAAKsC,kBAAkBR,GAAgBkB,SAASgE,GAAKvD,aAA7D,GAEMzD,KAAK+G,gBAEPvD,iBApDJ,SAoDA1B,EAAAa,GACM3C,KAAKsC,kBAAkBR,GAAgBkB,SAASmE,OAAOxE,EAAa,IAEtEyE,qBAvDJ,SAuDAvF,EAAAC,GACM,IAAN,8CACA,uCACA,SAEA,2EACA,yCAAQuF,SAARA,GAAQtE,kBAARA,EAAQU,aAARA,KAEA,6BAAQhB,YAARA,cAAQO,SAARA,EAAAqE,YAAAtE,oBAAAU,sBAEI6D,oBAjEJ,SAiEAC,GAAA,WACM,KAAN,qCAAAC,QACAD,iBACAE,MAAA,YACQ,EAAR,wBACQ,EAAR,mCAGIC,oBAzEJ,SAyEAC,EAAAC,GAAA,WACA,GACQC,SAARA,+BACQC,WAARA,kBACQC,WAARA,mCACQJ,QAARA,GAEM3H,KAAKgI,MAAMC,KAAK,4CAAtB,qBACQ,EAAR,YACUC,MAAOA,EAAjBA,mBACUC,KAAMA,EACNC,SAAUA,eACVC,SAAUA,IACVC,MAAOA,eAEjBC,OAAA,YACQ,EAAR,YACUL,MAAOA,EAAjBA,YACUC,KAAMA,EAAhBA,yBACUC,SAAUA,eACVC,SAAUA,IACVC,MAAOA,eAIb/B,aAlGJ,WAkGA,WACMvG,KAAKsB,WAAY,EACjBtB,KAAKgI,MACXQ,IADA,iBACA,UACAf,MAAA,YACQ,EAAR,aACQ,EAAR,yCACQ,EAAR,gBACQ,IAAR,wCAEU,EAAV,iBACA,kCACAgB,GAGQ,EAAR,gBAEAF,OAAA,YACQ,EAAR,iBAGIG,iBAvHJ,SAuHA7D,EAAA4D,GAAA,WACMzI,KAAKgI,MACXQ,IADA,qBACA3D,IACA4C,MAAA,YACQ,EAAR,mCACQ,EAAR,iDAEAc,OAAA,YACQ,EAAR,iBAGI5G,sBAlIJ,WAmIM,IADN,WACA,uCACQ,IAAR,yDACU,GAAV,kHAGY,OAFA3B,KAAKsC,kBAAkBR,GAAgBkB,SAASL,GAAac,aAAzE,6BACYzD,KAAK+G,eAGP,IAAV,8DACA,kEACA,qDACA,uDAIY,OAHA/G,KAAKsC,kBAAkBR,GAAgBkB,SAASL,GAAac,aAAzE,4BAEYzD,KAAK+G,eAGP/G,KAAKsC,kBAAkBR,GAAgBkB,SAASL,GAAa0E,SAAvE,uDAIM,IArBN,eAqBAvF,GAGQ,IAFA,IAAR,oGACA,IACA,iDACUmF,GAAiBA,OAAOA,EAAlCA,2CACU,EAAV,iDAGQ,IAAR,yEACQ,GAAR,6BACU,IAAV,mFASU,OARA,EAAV,YACYiB,MAAOA,eACPC,KAAMA,EACNG,MAAOA,SACPK,SAAUA,UACVN,SAAUA,IACVO,KAAMA,eAElB,aAnBA,8FAsBM5I,KAAK4D,kBAAmB,EACxB5D,KAAKgI,MACXC,KAAA,sBAAQY,qBAARA,yBACApB,MAAA,YAEQ,IADA,IAAR,mCACA,oCACU,IADA,IAAV,WACA9E,GACY,IAAZ,uDACA,uCAAc,OAAd,2BACYmG,SAAZA,yFAHA,iDAAY,EAAZ,GAMQ,EAAR,2CACQ,EAAR,YACUZ,MAAVA,eACUC,KAAVA,0BACUG,MAAVA,UACUK,SAAVA,UACUC,KAAVA,eAEQ,EAAR,cAAU9E,KAAVA,kBAEAyE,OAAA,iBAKIQ,cAxMJ,WAwMA,WACM/I,KAAKgI,MACXQ,IADA,oBACA,oBACAf,MAAA,YACQ,EAAR,sBAEAc,OAAA,YACQ,EAAR,iBAGIS,6BAlNJ,WAkNA,WACMhJ,KAAKgI,MACXQ,IADA,6BACA,UACAf,MAAA,YACQ,EAAR,8CACQ,EAAR,4BAEAc,OAAA,YACQ,EAAR,kBAIEU,WAAYA,CACV,WAAY,IACZC,QAAJA,IACIC,kBAAJA,SC5mBiY,I,YCO7XC,EAAY,eACd,EACAnJ,EACA0E,GACA,EACA,KACA,KACA,MAIa,aAAAyE,E","file":"js/chunk-56c433ac.91a95913.js","sourcesContent":["'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"invoice-page\"}},[_c('vx-card',{attrs:{\"id\":\"internal-card\",\"title\":\"\",\"no-shadow\":\"\",\"card-border\":\"\"}},[_c('div',{staticClass:\"vx-row leading-loose\"},[_c('div',{staticClass:\"vx-col w-full md:w-1/5 text-left\"},[_c('div',{staticClass:\"invoice__invoice-detail\"},[_c('h6',{staticClass:\"mt-4\"},[_vm._v(_vm._s(_vm.$t('companyName')))]),_c('p',{staticClass:\"flex items-center\"},[_c('feather-icon',{attrs:{\"icon\":\"BriefcaseIcon\",\"svgClasses\":\"h-4 w-4\"}}),(_vm.order.companyName)?_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(_vm.order.companyName || 'ordered by admin'))]):_vm._e(),(_vm.order.companyId == 0)?_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s('Ordered by Admin'))]):_vm._e()],1)])]),_c('div',{staticClass:\"vx-col w-full md:w-1/5 text-left\"},[_c('div',{staticClass:\"invoice__invoice-detail\"},[_c('h6',{staticClass:\"mt-4\"},[_vm._v(_vm._s(_vm.$t('orderNumber')))]),_c('p',{staticClass:\"flex items-center\"},[_c('feather-icon',{attrs:{\"icon\":\"HashIcon\",\"svgClasses\":\"h-4 w-4\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(_vm.order.orderNumber))])],1)])]),_c('div',{staticClass:\"vx-col w-full md:w-1/5 text-left\"},[_c('div',{staticClass:\"invoice__invoice-detail\"},[_c('h6',{staticClass:\"mt-4\"},[_vm._v(_vm._s(_vm.$t('orderDate')))]),_c('p',{staticClass:\"flex items-center\"},[_c('feather-icon',{attrs:{\"icon\":\"ClockIcon\",\"svgClasses\":\"h-4 w-4\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(_vm._f(\"date2\")(_vm.order.orderedDateTime)))])],1)])]),_c('div',{staticClass:\"vx-col w-full md:w-1/5 text-left\"},[_c('div',{staticClass:\"invoice__invoice-detail\"},[(_vm.order.siteName!=null)?_c('h6',{staticClass:\"mt-4\"},[_vm._v(_vm._s(_vm.$t('pickupTime')))]):_c('h6',{staticClass:\"mt-4\"},[_vm._v(_vm._s(_vm.$t('deliveryTime')))]),_c('p',{staticClass:\"flex items-center\"},[_c('feather-icon',{attrs:{\"icon\":\"WatchIcon\",\"svgClasses\":\"h-4 w-4\"}}),(_vm.order.deliveryDateTime)?_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(_vm._f(\"date2\")(_vm.order.deliveryDateTime)))]):_c('span',{staticClass:\"ml-2\"},[_vm._v(\"Not Specified\")])],1)])]),_c('div',{staticClass:\"vx-col w-full md:w-1/5 text-left\"},[_c('div',{staticClass:\"invoice__invoice-detail\"},[(_vm.order.siteName!=null)?_c('span',[_c('h6',{staticClass:\"mt-4\"},[_vm._v(_vm._s(_vm.$t('pickupLocation')))]),_c('p',{staticClass:\"flex items-center\"},[_c('feather-icon',{attrs:{\"icon\":\"MapPinIcon\",\"svgClasses\":\"h-4 w-4\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(_vm.order.siteName))])],1)]):_c('span',[_c('h6',{staticClass:\"mt-4\"},[_vm._v(_vm._s(_vm.$t('deliveryLocation')))]),_c('p',{staticClass:\"flex items-center\"},[_c('feather-icon',{attrs:{\"icon\":\"MapPinIcon\",\"svgClasses\":\"h-4 w-4\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(_vm.order.deliveryAddress))])],1)])])]),_c('loading',{attrs:{\"active\":_vm.isLoading,\"can-cancel\":true,\"is-full-page\":_vm.fullPage},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"vx-col w-full md:w-full\"},[_c('div',[_c('div',{staticClass:\"vx-row\",staticStyle:{\"border\":\"1px solid lightgreen\"}},[_c('div',{staticClass:\"vx-row w-full\"},[_c('div',{staticClass:\"vx-col w-5/6\"},[_c('h6',{staticClass:\"pl-10 mb-2 rounded-lg py-5\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('manageDeliveryStatus')))])])]),_c('div',{staticClass:\"vx-col w-1/9\"},[(_vm.userIsLogistics)?_c('vs-button',{staticClass:\"medium mt-3\",attrs:{\"color\":\"success\",\"type\":\"border\",\"icon-pack\":\"feather\",\"icon\":\"icon-save\"},on:{\"click\":_vm.saveOrderItemStatuses}},[_vm._v(_vm._s(_vm.$t('save')))]):_vm._e()],1)])]),_c('div',{staticClass:\"vx-row bg-grey-light\"},[_c('div',{staticClass:\"vx-col w-1/9 text-success\"},[_vm._v(\"#\")]),_c('div',{staticClass:\"vx-col w-1/3 text-success\"},[_c('strong',[_vm._v(_vm._s(_vm.$t(\"genericName\")))])]),_c('div',{staticClass:\"vx-col w-1/6 text-success\"},[_c('strong',[_vm._v(_vm._s(_vm.$t(\"quantity\")))])]),_c('div',{staticClass:\"vx-col w-1/3 text-success\"},[_c('strong',[_vm._v(_vm._s(_vm.$t(\"status\")))])])]),_vm._l((_vm.order.orderItems),function(orderItem,orderItemIndex){return _c('div',{key:orderItemIndex,staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col w-1/9\",attrs:{\"data\":orderItemIndex}},[_vm._v(_vm._s(orderItemIndex+1))]),_c('div',{staticClass:\"vx-col w-1/3\",attrs:{\"data\":_vm.secondInventoryBackup[orderItemIndex] && _vm.secondInventoryBackup[orderItemIndex].inventoryGenericName}},[_vm._v(_vm._s(_vm.secondInventoryBackup[orderItemIndex] && _vm.secondInventoryBackup[orderItemIndex].inventoryGenericName)+\" \"+_vm._s(_vm.secondInventoryBackup[orderItemIndex] && _vm.secondInventoryBackup[orderItemIndex].dosageForm != null ? _vm.secondInventoryBackup[orderItemIndex].dosageForm : \"\")+\" \"+_vm._s(_vm.secondInventoryBackup[orderItemIndex] && _vm.secondInventoryBackup[orderItemIndex].strength != null ? _vm.secondInventoryBackup[orderItemIndex].strength : \"\")+\"\\n            \")]),_c('div',{staticClass:\"vx-col w-1/6\",attrs:{\"data\":orderItem.orderQuantity}},[_vm._v(_vm._s(orderItem.orderQuantity)+\"\\n            \")]),_c('div',{staticClass:\"vx-col w-1/3\"},[_c('div',{staticClass:\"vx-row my-1\"},[_c('div',{staticClass:\"vx-col w-1/2 text-warning\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.$t('orderStatus'))+\"\\n                \")]),_c('div',{staticClass:\"vx-col w-1/2 text-warning\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.$t('quantity'))),(orderItem.preOrderQuantity > 0)?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"  | \"+_vm._s(_vm.$t('preOrder'))+\": \"),_c('u',{staticClass:\"badge bg-green\"},[_vm._v(\"   \"+_vm._s(orderItem.preOrderQuantity)+\"    \")])]):_vm._e()]),_c('div',{staticClass:\"vx-col w-1/6\"})]),(_vm.orderItemStatuses.find(function (ois){ return ois.orderItemId===orderItem.orderItemId; })!==undefined)?_c('div',_vm._l((_vm.orderItemStatuses.find(function (ois){ return ois.orderItemId===orderItem.orderItemId; }).statuses),function(orderItemStatus,statusIndex){return _c('div',{key:statusIndex},[((_vm.orderStatusType = _vm.orderStatusTypes.find(function (ost){ return ost.orderStatusTypeId === _vm.orderItemStatuses.find(function (ois){ return ois.orderItemId===orderItem.orderItemId; }).statuses[statusIndex].orderStatusTypeId; })))?_c('div',{staticClass:\"vx-row my-1\"},[_c('div',{staticClass:\"vx-col w-1/2\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"\\n                  \"+_vm._s(_vm.orderStatusType.orderStatusType)+\"\\n                  \")]),_c('div',{staticClass:\"vx-col w-1/3\"},[_c('vs-input',{staticClass:\"w-full\",attrs:{\"type\":\"number\"},on:{\"change\":function($event){return _vm.handleQuantity(orderItem, orderItemIndex, statusIndex)}},model:{value:(_vm.orderItemStatuses.find(function (ois){ return ois.orderItemId===orderItem.orderItemId; }).statuses[statusIndex].quantity),callback:function ($$v) {_vm.$set(_vm.orderItemStatuses.find(function (ois){ return ois.orderItemId===orderItem.orderItemId; }).statuses[statusIndex], \"quantity\", $$v)},expression:\"orderItemStatuses.find(ois=>ois.orderItemId===orderItem.orderItemId).statuses[statusIndex].quantity\"}})],1),_c('div',{staticClass:\"1/6\"},[(statusIndex > 0)?_c('span',{on:{\"click\":function($event){return _vm.removeItemStatus(orderItemIndex, statusIndex)}}},[_c('vs-avatar',{attrs:{\"color\":\"danger\",\"icon-pack\":\"feather\",\"icon\":\"icon-delete\"}})],1):_vm._e()]),(_vm.orderItemStatuses[orderItemIndex].statuses[statusIndex].errorMessage)?_c('div',{staticClass:\"vx-row\"},[_c('span',{staticClass:\"text-danger\",staticStyle:{\"margin-left\":\"30px\"}},[_vm._v(_vm._s(_vm.orderItemStatuses[orderItemIndex].statuses[statusIndex].errorMessage))])]):_vm._e()]):_vm._e()])}),0):_vm._e()])])}),_c('div',{staticClass:\"vx-row\",staticStyle:{\"border-top\":\"1px solid lightgreen\"}},[_c('div',{staticClass:\"vx-row w-full\"},[_c('div',{staticClass:\"vx-col w-5/6\"}),_c('div',{staticClass:\"vx-col w-1/9\"},[(_vm.userIsLogistics)?_c('vs-button',{staticClass:\"medium mt-4\",attrs:{\"color\":\"success\",\"type\":\"border\",\"icon-pack\":\"feather\",\"icon\":\"icon-save\"},on:{\"click\":_vm.saveOrderItemStatuses}},[_vm._v(_vm._s(_vm.$t('save')))]):_vm._e()],1)])])],2)])],1),_c('vs-prompt',{attrs:{\"acceptText\":_vm.$t('Save'),\"cancelText\":_vm.$t('Cancel'),\"classContent\":\"popup-example\",\"title\":\"Payment Details\",\"active\":_vm.popUpActive},on:{\"accept\":function($event){return _vm.save()},\"update:active\":function($event){_vm.popUpActive=$event}}},[_c('h5',[_vm._v(\"Payment Option\")]),_c('loading',{attrs:{\"active\":_vm.isLoadingPayment,\"can-cancel\":true,\"is-full-page\":_vm.fullPage},on:{\"update:active\":function($event){_vm.isLoadingPayment=$event}}}),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"m-1 vs-select-no-border d-theme-input-dark-bg w-full\",attrs:{\"options\":_vm.typeOfPayment,\"name\":\"paymentType\"},model:{value:(_vm.selectedPaymentType),callback:function ($$v) {_vm.selectedPaymentType=$$v},expression:\"selectedPaymentType\"}}),(_vm.order.siteName==null)?_c('div',[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('paymentType')),expression:\"errors.has('paymentType')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('paymentType')))]),_c('h5',[_vm._v(\"Order Status\")]),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"m-1 vs-select-no-border d-theme-input-dark-bg w-full\",attrs:{\"options\":_vm.typeOfOrderStatuses,\"name\":\"statusType\"},model:{value:(_vm.selectedOrderStatus),callback:function ($$v) {_vm.selectedOrderStatus=$$v},expression:\"selectedOrderStatus\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('statusType')),expression:\"errors.has('statusType')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('statusType')))])],1):_c('div',[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('paymentType')),expression:\"errors.has('paymentType')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('paymentType')))]),_c('h5',[_vm._v(\"Order Status\")]),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"m-1 vs-select-no-border d-theme-input-dark-bg w-full\",attrs:{\"options\":_vm.pickUpOrderStatuses,\"name\":\"statusType\"},model:{value:(_vm.selectedOrderStatus),callback:function ($$v) {_vm.selectedOrderStatus=$$v},expression:\"selectedOrderStatus\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('statusType')),expression:\"errors.has('statusType')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('statusType')))])],1)],1),(_vm.preOrderPopUpActive)?_c('vs-prompt',{attrs:{\"acceptText\":_vm.$t('Save'),\"cancelText\":_vm.$t('Cancel'),\"classContent\":\"popup-example\",\"title\":\"Payment Details\",\"active\":_vm.preOrderPopUpActive},on:{\"accept\":function($event){return _vm.save()},\"update:active\":function($event){_vm.preOrderPopUpActive=$event}}},[_c('h5',[_vm._v(\"Payment Option\")]),_c('loading',{attrs:{\"active\":_vm.isLoadingPayment,\"can-cancel\":true,\"is-full-page\":_vm.fullPage},on:{\"update:active\":function($event){_vm.isLoadingPayment=$event}}}),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"m-1 vs-select-no-border d-theme-input-dark-bg w-full\",attrs:{\"options\":_vm.typeOfPayment,\"name\":\"paymentType\"},model:{value:(_vm.selectedPaymentTypePreOrder),callback:function ($$v) {_vm.selectedPaymentTypePreOrder=$$v},expression:\"selectedPaymentTypePreOrder\"}}),(_vm.order.siteName==null)?_c('div',[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('paymentType')),expression:\"errors.has('paymentType')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('paymentType')))]),_c('h5',[_vm._v(\"Order Status\")]),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"m-1 vs-select-no-border d-theme-input-dark-bg w-full\",attrs:{\"options\":_vm.typeOfOrderStatuses,\"name\":\"statusType\"},model:{value:(_vm.selectedOrderStatusPreOrder),callback:function ($$v) {_vm.selectedOrderStatusPreOrder=$$v},expression:\"selectedOrderStatusPreOrder\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('statusType')),expression:\"errors.has('statusType')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('statusType')))])],1):_c('div',[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('paymentType')),expression:\"errors.has('paymentType')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('paymentType')))]),_c('h5',[_vm._v(\"Order Status\")]),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"m-1 vs-select-no-border d-theme-input-dark-bg w-full\",attrs:{\"options\":_vm.pickUpOrderStatuses,\"name\":\"statusType\"},model:{value:(_vm.selectedOrderStatusPreOrder),callback:function ($$v) {_vm.selectedOrderStatusPreOrder=$$v},expression:\"selectedOrderStatusPreOrder\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('statusType')),expression:\"errors.has('statusType')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('statusType')))])],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"invoice-page\">\r\n    <vx-card id=\"internal-card\" title no-shadow card-border>\r\n      <div class=\"vx-row leading-loose\">\r\n        <!-- <div class=\"vx-col w-full md:w-1/4\">\r\n          <vs-avatar\r\n            v-if=\"userDetails.profilePicture\"\r\n            size=\"150px\"\r\n            :src=\"(`${$domain}/profiles/${userDetails.profilePicture}`)\"\r\n          />\r\n          <vs-avatar\r\n            v-if=\"!userDetails.profilePicture\"\r\n            size=\"150px\"\r\n            :src=\"require(`@/assets/images/profiles//CnDoEPXVInjLaSTWgvVYaYOrd0UJGz.png`)\"\r\n          />\r\n        </div> -->\r\n        <div class=\"vx-col w-full md:w-1/5 text-left\">\r\n          <div class=\"invoice__invoice-detail\">\r\n            <h6 class=\"mt-4\">{{$t('companyName')}}</h6>\r\n            <p class=\"flex items-center\">\r\n              <feather-icon icon=\"BriefcaseIcon\" svgClasses=\"h-4 w-4\"></feather-icon>\r\n              <span\r\n                class=\"ml-2\"\r\n                v-if=\"order.companyName\"\r\n              >{{order.companyName || 'ordered by admin'}}</span>\r\n              <span class=\"ml-2\" v-if=\"order.companyId == 0\">{{ 'Ordered by Admin'}}</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div class=\"vx-col w-full md:w-1/5 text-left\">\r\n          <div class=\"invoice__invoice-detail\">\r\n            <h6 class=\"mt-4\">{{$t('orderNumber')}}</h6>\r\n            <p class=\"flex items-center\">\r\n              <feather-icon icon=\"HashIcon\" svgClasses=\"h-4 w-4\"></feather-icon>\r\n              <span class=\"ml-2\">{{order.orderNumber}}</span>\r\n            </p>    \r\n          </div>\r\n        </div>   \r\n        <div class=\"vx-col w-full md:w-1/5 text-left\">\r\n          <div class=\"invoice__invoice-detail\">\r\n            <h6 class=\"mt-4\">{{$t('orderDate')}}</h6>\r\n            <p class=\"flex items-center\">\r\n              <feather-icon icon=\"ClockIcon\" svgClasses=\"h-4 w-4\"></feather-icon>\r\n              <span class=\"ml-2\">{{order.orderedDateTime | date2()}}</span>\r\n            </p>       \r\n          </div>\r\n        </div>\r\n        <div class=\"vx-col w-full md:w-1/5 text-left\">\r\n          <div class=\"invoice__invoice-detail\">          \r\n            <h6 v-if=\"order.siteName!=null\" class=\"mt-4\">{{$t('pickupTime')}}</h6>\r\n            <h6 v-else class=\"mt-4\">{{$t('deliveryTime')}}</h6>\r\n            <p class=\"flex items-center\">\r\n              <feather-icon icon=\"WatchIcon\" svgClasses=\"h-4 w-4\"></feather-icon>\r\n              <span v-if=\"order.deliveryDateTime\" class=\"ml-2\">{{order.deliveryDateTime | date2()}}</span>\r\n              <span v-else class=\"ml-2\">Not Specified</span>\r\n            </p>       \r\n          </div>\r\n        </div>\r\n        <div class=\"vx-col w-full md:w-1/5 text-left\">\r\n          <div class=\"invoice__invoice-detail\">    \r\n            <span v-if=\"order.siteName!=null\">\r\n                <h6 class=\"mt-4\">{{$t('pickupLocation')}}</h6>\r\n                <p class=\"flex items-center\">\r\n                  <feather-icon icon=\"MapPinIcon\" svgClasses=\"h-4 w-4\"></feather-icon>\r\n                  <span class=\"ml-2\">{{order.siteName}}</span>\r\n                </p>\r\n            </span>\r\n            <span v-else>\r\n                <h6 class=\"mt-4\">{{$t('deliveryLocation')}}</h6>\r\n                <p class=\"flex items-center\">\r\n                  <feather-icon icon=\"MapPinIcon\" svgClasses=\"h-4 w-4\"></feather-icon>\r\n                  <span class=\"ml-2\">{{order.deliveryAddress}}</span>\r\n                </p>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <loading :active.sync=\"isLoading\" :can-cancel=\"true\" :is-full-page=\"fullPage\"></loading>\r\n\r\n        <div class=\"vx-col w-full md:w-full\">\r\n          <div>\r\n            <div class=\"vx-row\" style=\"border: 1px solid lightgreen\">\r\n              <div class=\"vx-row w-full\">\r\n                <div class=\"vx-col w-5/6\">\r\n                  <h6 class=\"pl-10 mb-2 rounded-lg py-5\"><strong>{{$t('manageDeliveryStatus')}}</strong></h6>\r\n                </div>\r\n                <div class=\"vx-col w-1/9\">      \r\n                <vs-button\r\n                  v-if=\"userIsLogistics\"\r\n                  class=\"medium mt-3\"\r\n                  color=\"success\"\r\n                  type=\"border\"\r\n                  icon-pack=\"feather\"\r\n                  icon=\"icon-save\"\r\n                  @click=\"saveOrderItemStatuses\"\r\n                >{{$t('save')}}</vs-button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"vx-row bg-grey-light\">\r\n              <div class=\"vx-col w-1/9 text-success\">#</div>\r\n              <div class=\"vx-col w-1/3 text-success\"><strong>{{ $t(\"genericName\") }}</strong></div>\r\n              <div class=\"vx-col w-1/6 text-success\"><strong>{{ $t(\"quantity\") }}</strong></div>\r\n              <div class=\"vx-col w-1/3 text-success\"><strong>{{ $t(\"status\") }}</strong></div>\r\n            </div>\r\n            <div class=\"vx-row\" :key=\"orderItemIndex\" v-for=\"(orderItem, orderItemIndex) in order.orderItems\">\r\n              <div class=\"vx-col w-1/9\" :data=\"orderItemIndex\">{{orderItemIndex+1}}</div>\r\n              <div class=\"vx-col w-1/3\"\r\n                :data=\"secondInventoryBackup[orderItemIndex] && secondInventoryBackup[orderItemIndex].inventoryGenericName\"\r\n              >{{ secondInventoryBackup[orderItemIndex] && secondInventoryBackup[orderItemIndex].inventoryGenericName }} {{secondInventoryBackup[orderItemIndex] && secondInventoryBackup[orderItemIndex].dosageForm != null ? secondInventoryBackup[orderItemIndex].dosageForm : \"\"}} {{secondInventoryBackup[orderItemIndex] && secondInventoryBackup[orderItemIndex].strength != null ? secondInventoryBackup[orderItemIndex].strength : \"\" }}\r\n              </div>\r\n              <div class=\"vx-col w-1/6\"\r\n                :data=\"orderItem.orderQuantity\"\r\n              >{{ orderItem.orderQuantity }}\r\n              </div>\r\n              <div class=\"vx-col w-1/3\">\r\n                <div class=\"vx-row my-1\">\r\n                  <div class=\"vx-col w-1/2 text-warning\">\r\n                    {{$t('orderStatus')}}\r\n                  </div>\r\n                  <div class=\"vx-col w-1/2 text-warning\">\r\n                    {{$t('quantity')}}<span v-if=\"orderItem.preOrderQuantity > 0\" class=\"text-danger\">  | {{$t('preOrder')}}: <u class=\"badge bg-green\"> &nbsp; {{orderItem.preOrderQuantity}}  &nbsp; </u></span>\r\n                  </div>\r\n                  <div class=\"vx-col w-1/6\">\r\n                    <!--\r\n                    <vs-button\r\n                      style=\"float: right\"\r\n                      color=\"success\"\r\n                      type=\"border\"\r\n                      icon=\"icon-plus\"\r\n                      iconPack=\"feather\"\r\n                      @click=\"addOrderItemStatuses(orderItem, orderItemIndex)\">\r\n                    </vs-button>\r\n                    -->\r\n                  </div>\r\n                </div>\r\n                <div v-if=\"orderItemStatuses.find(ois=>ois.orderItemId===orderItem.orderItemId)!==undefined\">\r\n                <div v-for=\"(orderItemStatus, statusIndex) in orderItemStatuses.find(ois=>ois.orderItemId===orderItem.orderItemId).statuses\" :key=\"statusIndex\">\r\n                  <div class=\"vx-row my-1\" v-if=\"(orderStatusType = orderStatusTypes.find(ost=>ost.orderStatusTypeId === orderItemStatuses.find(ois=>ois.orderItemId===orderItem.orderItemId).statuses[statusIndex].orderStatusTypeId))\">\r\n                    <div class=\"vx-col w-1/2\" style=\"font-weight: bold;\">\r\n                    {{ orderStatusType.orderStatusType }}\r\n                    </div>\r\n                    <div class=\"vx-col w-1/3\">\r\n                      <vs-input\r\n                      type=\"number\"\r\n                      @change=\"handleQuantity(orderItem, orderItemIndex, statusIndex)\"\r\n                      class=\"w-full\"\r\n                      v-model.lazy=\"orderItemStatuses.find(ois=>ois.orderItemId===orderItem.orderItemId).statuses[statusIndex].quantity\" />\r\n                    </div>\r\n                    <!--\r\n                    <div class=\"vx-col w-1/2\">\r\n                      <v-select\r\n                        class=\"w-full\"\r\n                        v-model=\"orderItemStatuses.find(ois=>ois.orderItemId===orderItem.orderItemId).statuses[statusIndex].orderStatusTypeId\"\r\n                        v-validate=\"'required'\"\r\n                        :options=\"orderStatusTypes\"        \r\n                        label=\"orderStatusType\"\r\n                        :reduce=\"(orderStatusType) => orderStatusType.orderStatusTypeId\"\r\n                        name=\"orderStatusTypeId\"\r\n                        @input=\"validateOrderStatusType(orderItemIndex, statusIndex)\"\r\n                      ></v-select>\r\n                    </div>\r\n                    -->\r\n                    <div class=\"1/6\">\r\n                    <span v-if=\"statusIndex > 0\" @click=\"removeItemStatus(orderItemIndex, statusIndex)\">\r\n                      <vs-avatar color=\"danger\" icon-pack=\"feather\" icon=\"icon-delete\" />\r\n                    </span>\r\n                    </div>\r\n                    <div class=\"vx-row\" v-if=\"orderItemStatuses[orderItemIndex].statuses[statusIndex].errorMessage\">\r\n                      <span class=\"text-danger\" style=\"margin-left: 30px\">{{orderItemStatuses[orderItemIndex].statuses[statusIndex].errorMessage}}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"vx-row\" style=\"border-top: 1px solid lightgreen\">\r\n              <div class=\"vx-row w-full\">\r\n                <div class=\"vx-col w-5/6\">\r\n                </div>\r\n                <div class=\"vx-col w-1/9\">      \r\n                <vs-button\r\n                  v-if=\"userIsLogistics\"\r\n                  class=\"medium mt-4\"\r\n                  color=\"success\"\r\n                  type=\"border\"\r\n                  icon-pack=\"feather\"\r\n                  icon=\"icon-save\"\r\n                  @click=\"saveOrderItemStatuses\"\r\n                >{{$t('save')}}</vs-button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <vs-prompt\r\n        @accept=\"save()\"\r\n        :acceptText=\"$t('Save')\"\r\n        :cancelText=\"$t('Cancel')\"\r\n        classContent=\"popup-example\"\r\n        title=\"Payment Details\"\r\n        :active.sync=\"popUpActive\"\r\n      >\r\n        <h5>Payment Option</h5>\r\n        <loading :active.sync=\"isLoadingPayment\" :can-cancel=\"true\" :is-full-page=\"fullPage\"></loading>\r\n\r\n        <v-select\r\n          class=\"m-1 vs-select-no-border d-theme-input-dark-bg w-full\"\r\n          :options=\"typeOfPayment\"\r\n          v-validate=\"'required'\"\r\n          v-model=\"selectedPaymentType\"\r\n          name=\"paymentType\"\r\n        ></v-select>\r\n        <div v-if=\"order.siteName==null\">\r\n            <span\r\n              class=\"text-danger text-sm\"\r\n              v-show=\"errors.has('paymentType')\"\r\n            >{{ errors.first('paymentType') }}</span>\r\n            <h5>Order Status</h5>\r\n            <v-select\r\n              class=\"m-1 vs-select-no-border d-theme-input-dark-bg w-full\"\r\n              :options=\"typeOfOrderStatuses\"\r\n              v-model=\"selectedOrderStatus\"\r\n              v-validate=\"'required'\"\r\n              name=\"statusType\"\r\n            ></v-select>\r\n            <span\r\n              class=\"text-danger text-sm\"\r\n              v-show=\"errors.has('statusType')\"\r\n            >{{ errors.first('statusType') }}</span>\r\n        </div>\r\n        <div v-else>\r\n            <span\r\n              class=\"text-danger text-sm\"\r\n              v-show=\"errors.has('paymentType')\"\r\n            >{{ errors.first('paymentType') }}</span>\r\n            <h5>Order Status</h5>\r\n            <v-select\r\n              class=\"m-1 vs-select-no-border d-theme-input-dark-bg w-full\"\r\n              :options=\"pickUpOrderStatuses\"\r\n              v-model=\"selectedOrderStatus\"\r\n              v-validate=\"'required'\"\r\n              name=\"statusType\"\r\n            ></v-select>\r\n            <span\r\n              class=\"text-danger text-sm\"\r\n              v-show=\"errors.has('statusType')\"\r\n            >{{ errors.first('statusType') }}</span>\r\n        </div>\r\n      </vs-prompt>\r\n\r\n      <vs-prompt\r\n        v-if=\"preOrderPopUpActive\"\r\n        @accept=\"save()\"\r\n        :acceptText=\"$t('Save')\"\r\n        :cancelText=\"$t('Cancel')\"\r\n        classContent=\"popup-example\"\r\n        title=\"Payment Details\"\r\n        :active.sync=\"preOrderPopUpActive\"\r\n      >\r\n        <h5>Payment Option</h5>\r\n        <loading :active.sync=\"isLoadingPayment\" :can-cancel=\"true\" :is-full-page=\"fullPage\"></loading>\r\n\r\n        <v-select\r\n          class=\"m-1 vs-select-no-border d-theme-input-dark-bg w-full\"\r\n          :options=\"typeOfPayment\"\r\n          v-validate=\"'required'\"\r\n          v-model=\"selectedPaymentTypePreOrder\"\r\n          name=\"paymentType\"\r\n        ></v-select>\r\n        <div v-if=\"order.siteName==null\">\r\n            <span\r\n              class=\"text-danger text-sm\"\r\n              v-show=\"errors.has('paymentType')\"\r\n            >{{ errors.first('paymentType') }}</span>\r\n            <h5>Order Status</h5>\r\n            <v-select\r\n              class=\"m-1 vs-select-no-border d-theme-input-dark-bg w-full\"\r\n              :options=\"typeOfOrderStatuses\"\r\n              v-model=\"selectedOrderStatusPreOrder\"\r\n              v-validate=\"'required'\"\r\n              name=\"statusType\"\r\n            ></v-select>\r\n            <span\r\n              class=\"text-danger text-sm\"\r\n              v-show=\"errors.has('statusType')\"\r\n            >{{ errors.first('statusType') }}</span>\r\n        </div>\r\n        <div v-else>\r\n            <span\r\n              class=\"text-danger text-sm\"\r\n              v-show=\"errors.has('paymentType')\"\r\n            >{{ errors.first('paymentType') }}</span>\r\n            <h5>Order Status</h5>\r\n            <v-select\r\n              class=\"m-1 vs-select-no-border d-theme-input-dark-bg w-full\"\r\n              :options=\"pickUpOrderStatuses\"\r\n              v-model=\"selectedOrderStatusPreOrder\"\r\n              v-validate=\"'required'\"\r\n              name=\"statusType\"\r\n            ></v-select>\r\n            <span\r\n              class=\"text-danger text-sm\"\r\n              v-show=\"errors.has('statusType')\"\r\n            >{{ errors.first('statusType') }}</span>\r\n        </div>\r\n      </vs-prompt>\r\n    </vx-card>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport vSelect from \"vue-select\";\r\nimport { Validator } from \"vee-validate\";\r\nimport { icon } from \"@fortawesome/fontawesome-svg-core\";\r\nimport Loading from \"vue-loading-overlay\";\r\nimport \"vue-loading-overlay/dist/vue-loading.css\";\r\n\r\nimport OrderVerification from \"@/layouts/components/ePharmacy/OrderVerification.vue\";\r\n\r\nconst dict = {\r\n  custom: {\r\n    paymentType: {\r\n      required: \"Please enter payment type\"\r\n    },\r\n    statusType: {\r\n      required: \"Please enter status type\"\r\n    }\r\n  }\r\n};\r\nexport default {\r\n  data() {\r\n    return {\r\n      id: this.$route.params.id,\r\n      order: {\r\n        secondInventory: []\r\n      },\r\n      secondInventoryBackup: [],\r\n      typeOfOrderStatuses: [\"Ready For Shipment\", \"In-Transit\", \"Delivered\"],\r\n      pickUpOrderStatuses: [\"Ready For Pickup\",],\r\n      typeOfPayment: [\"Paid\", \"PostPaid\", \"PartialPaid\"],\r\n      selectedPaymentType: \"\",\r\n      selectedOrderStatus: \"\",\r\n      companyDetails: {\r\n        companyId: \"\",\r\n        accountId: \"\",\r\n        companyName: \"\",\r\n        licenceNumber: \"\",\r\n        companyStatus: \"\",\r\n        registrationDate: \"\"\r\n      },\r\n      userDetails: {\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        gfatherName: \"\",\r\n        email: \"\",\r\n        mobilePhone: \"\",\r\n        userType: \"\",\r\n        companyId: \"\"\r\n      },\r\n      popUpActive: false,\r\n      preOrderPopUpActive:false,\r\n      oldPassword: \"\",\r\n      newPassword: \"\",\r\n      confirmationPassword: \"\",\r\n      changePassword: false,\r\n      isLoading: false,\r\n      isLoadingPayment: false,\r\n      fullPage: false,\r\n      selectedPaymentTypePreOrder:\"\",\r\n      selectedOrderStatusPreOrder:\"\",\r\n      showConfirmOrderPopup: false,\r\n      showRejectOrderPopup: false,\r\n      orderRejectionReason: \"\",\r\n      orderRejectionReasonError: \"\",\r\n      orderStatusTypes: [],\r\n      orderItemStatuses: [],\r\n    };\r\n  },\r\n  computed: {\r\n    getSortedOrderStatusTypes(){\r\n      return this.orderStatusTypes.sort((a, b) => {return a.weight - b.weight;})\r\n    },\r\n    userIsLogistics(){\r\n      const userType = localStorage.getItem('userType');\r\n      return userType==='Logistics';\r\n    },\r\n  },\r\n  created() {\r\n    this.getOrderById();\r\n    // this.getInventoryById();\r\n  },\r\n  methods: {\r\n    addNextOrderItemStatus() {\r\n      for(let orderItemIndex=0; orderItemIndex < this.order.orderItems.length; orderItemIndex++){\r\n        let orderItem = this.order.orderItems[orderItemIndex];\r\n        let orderItemStatuses=this.orderItemStatuses.find(ois=>ois.orderItemId===orderItem.orderItemId).statuses;\r\n        if(orderItemStatuses.length < 1 || orderItemStatuses[orderItemStatuses.length - 1].quantity > 0)\r\n          this.addOrderItemStatuses(orderItem, orderItemIndex);\r\n      }\r\n    },\r\n    getNextOrderStatusTypeId(orderItem, orderItemIndex, statusIndex){\r\n      var nextOrderStatusType=undefined;\r\n      if(!this.orderItemStatuses.find(ois=>ois.orderItemId===orderItem.orderItemId) || !this.orderItemStatuses.find(ois=>ois.orderItemId===orderItem.orderItemId).statuses[statusIndex]) {\r\n        if(this.getSortedOrderStatusTypes.length > 0)\r\n          nextOrderStatusType = this.getSortedOrderStatusTypes[0];\r\n      } \r\n      else {\r\n        var latestPrevOrderStatusTypeId = this.orderItemStatuses.find(ois=>ois.orderItemId===orderItem.orderItemId).statuses[statusIndex].orderStatusTypeId;\r\n        var latestPrevOrderStatusType = this.getSortedOrderStatusTypes.find(ost=>ost.orderStatusTypeId === latestPrevOrderStatusTypeId);\r\n        if(!latestPrevOrderStatusType && this.getSortedOrderStatusTypes.length > 0)\r\n          nextOrderStatusType = this.getSortedOrderStatusTypes[0];\r\n        else\r\n          nextOrderStatusType = this.getSortedOrderStatusTypes.find(ost=>ost.weight > latestPrevOrderStatusType.weight);\r\n      }\r\n      return nextOrderStatusType? nextOrderStatusType.orderStatusTypeId : 0;\r\n    },\r\n    validateOrderStatusType(orderItemIndex, statusIndex){\r\n      let orderStatusTypeId=this.orderItemStatuses[orderItemIndex].statuses[statusIndex].orderStatusTypeId;\r\n      if(this.orderItemStatuses[orderItemIndex].statuses.filter(st=>st.orderStatusTypeId===orderStatusTypeId).length > 1){\r\n        this.orderItemStatuses[orderItemIndex].statuses[statusIndex].errorMessage=`Order status ${this.orderStatusTypes.find(ost=>ost.orderStatusTypeId===orderStatusTypeId).orderStatusType} already exists!`;\r\n        this.orderItemStatuses[orderItemIndex].statuses[statusIndex].orderStatusTypeId=\"\";\r\n      }else{\r\n        this.orderItemStatuses[orderItemIndex].statuses[statusIndex].errorMessage=\"\";\r\n      }\r\n      this.$forceUpdate();\r\n    },\r\n    handleQuantity(orderItem, orderItemIndex, idx){\r\n      let totalQuantity=0;\r\n      let currentQuantity=Number(this.orderItemStatuses[orderItemIndex].statuses[idx].quantity);\r\n      for(let i=0; i<this.orderItemStatuses[orderItemIndex].statuses.length; i++){\r\n        totalQuantity += Number(this.orderItemStatuses[orderItemIndex].statuses[i].quantity);\r\n        this.orderItemStatuses[orderItemIndex].statuses[i].errorMessage='';\r\n      }\r\n      let totalQuantityErrorMessage=`Sum of the quantities should be ${Number(orderItem.orderQuantity)}.`;\r\n      if(totalQuantity > Number(orderItem.orderQuantity)){\r\n        this.orderItemStatuses[orderItemIndex].statuses[idx].errorMessage=`${currentQuantity} is not valid quantity. ${totalQuantityErrorMessage} Current is ${totalQuantity}`;\r\n      }else if(totalQuantity < Number(orderItem.orderQuantity)){\r\n        this.orderItemStatuses[orderItemIndex].statuses[idx].errorMessage=`${totalQuantityErrorMessage} Current is ${totalQuantity}`;\r\n      }else{\r\n        this.orderItemStatuses[orderItemIndex].statuses[idx].errorMessage='';\r\n      }\r\n      this.$forceUpdate();\r\n    },\r\n    removeItemStatus(orderItemIndex, statusIndex){\r\n      this.orderItemStatuses[orderItemIndex].statuses.splice(statusIndex, 1);\r\n    },\r\n    addOrderItemStatuses(orderItem, orderItemIndex){\r\n      let latestStatusIndex = this.orderItemStatuses[orderItemIndex].statuses.length - 1;\r\n      let nextOrderStatusTypeId = this.getNextOrderStatusTypeId(orderItem, orderItemIndex, latestStatusIndex);\r\n      if(!nextOrderStatusTypeId)\r\n        return;\r\n      if(this.orderItemStatuses[orderItemIndex]!==undefined && this.orderItemStatuses[orderItemIndex].statuses!==undefined)\r\n        this.orderItemStatuses[orderItemIndex].statuses.push({quantity: '', orderStatusTypeId: nextOrderStatusTypeId, errorMessage: ''});\r\n      else\r\n        this.orderItemStatuses.push({orderItemId: orderItem.orderItemId, statuses: [{quantity: '', orderStatusTypeId: nextOrderStatusTypeId, errorMessage: ''}]});\r\n    },\r\n    getOrderStatusTypes(orderTypeId){\r\n       this.$http.get('/order-type-status-type',{params:{\r\n         orderTypeId:orderTypeId,\r\n       }}).then(response=>{\r\n          this.orderStatusTypes = response.data;\r\n          this.getOrderItemsStatusByOrderId();\r\n       });\r\n    },\r\n    sendNewNotification(message, statusInfo){\r\n        var data={\r\n          senderId: localStorage.getItem('userId'),\r\n          receiverId: this.order.userId,\r\n          detailLink: '/pages/order/'+this.order.orderId,\r\n          message: message,\r\n      };\r\n      this.$http.post(`/user-notifications/add-user-notification`, data).then(response => {\r\n          this.$vs.notify({\r\n          title: this.$t(\"Notification\"),\r\n          text: statusInfo,\r\n          position: \"bottom-right\",\r\n          duration: 7000,\r\n          color: \"success\"\r\n        });\r\n        }).catch(err=>{\r\n          this.$vs.notify({\r\n          title: this.$t(\"error\"),\r\n          text: this.$t(\"somethingWentWrong\"),\r\n          position: \"bottom-right\",\r\n          duration: 7000,\r\n          color: \"danger\"\r\n        });\r\n      });\r\n      },\r\n    getOrderById() {\r\n      this.isLoading = true;\r\n      this.$http\r\n        .get(`/order/${this.id}`)\r\n        .then(response => {\r\n          this.order = response.data;\r\n          this.getOrderStatusTypes(this.order.orderTypeId);\r\n          this.getUserDetail();\r\n          for (let index = 0; index < this.order.orderItems.length; index++) {\r\n            // this.order.orderItems[index].orderedQuantity =  this.order.orderItems[index].orderedQuantity +  this.order.preOrderInfo[index].orderedQuantity; \r\n            this.getInventoryById(\r\n              this.order.orderItems[index].inventoryId,\r\n              index\r\n            );\r\n          }\r\n          this.isLoading = false;\r\n        })\r\n        .catch(_ => {\r\n          this.isLoading = false;\r\n        });\r\n    },\r\n    getInventoryById(id, index) {\r\n      this.$http\r\n        .get(`/inventory/${id}`)\r\n        .then(response => {\r\n          this.secondInventoryBackup.push(response.data);\r\n          this.order.secondInventory = this.secondInventoryBackup;\r\n        })\r\n        .catch(_ => {\r\n          this.isLoading = false;\r\n        });\r\n    },\r\n    saveOrderItemStatuses() {\r\n      for(let orderItemIndex=0; orderItemIndex<this.order.orderItems.length; orderItemIndex++){\r\n        for(let statusIndex=0; statusIndex<this.orderItemStatuses[orderItemIndex].statuses.length; statusIndex++){\r\n          if(this.orderItemStatuses[orderItemIndex].statuses[statusIndex].quantity === '' && this.orderItemStatuses[orderItemIndex].statuses[statusIndex].orderStatusTypeId !== ''){\r\n            this.orderItemStatuses[orderItemIndex].statuses[statusIndex].errorMessage=`Please enter quantity`;\r\n            this.$forceUpdate();\r\n            return;\r\n          }\r\n          if((this.orderItemStatuses[orderItemIndex].statuses[statusIndex].orderStatusTypeId === ''\r\n            || this.orderItemStatuses[orderItemIndex].statuses[statusIndex].orderStatusTypeId === null)\r\n            && (this.orderItemStatuses[orderItemIndex].statuses[statusIndex].quantity !== ''\r\n            || this.orderItemStatuses[orderItemIndex].statuses[statusIndex].quantity !== null)){\r\n            this.orderItemStatuses[orderItemIndex].statuses[statusIndex].errorMessage=`Please select status`;\r\n\r\n            this.$forceUpdate();\r\n            return;\r\n          }\r\n          this.orderItemStatuses[orderItemIndex].statuses[statusIndex].quantity=Number(this.orderItemStatuses[orderItemIndex].statuses[statusIndex].quantity)\r\n        }\r\n      }\r\n\r\n      for(let orderItemIndex=0; orderItemIndex<this.order.orderItems.length; orderItemIndex++){\r\n        let orderItem=this.order.orderItems.find(oi=>oi.orderItemId === this.orderItemStatuses[orderItemIndex].orderItemId);\r\n        let totalQuantity=0;\r\n        for(let i=0; i<this.orderItemStatuses[orderItemIndex].statuses.length; i++){\r\n          totalQuantity += Number(this.orderItemStatuses[orderItemIndex].statuses[i].quantity);\r\n          this.orderItemStatuses[orderItemIndex].statuses[i].errorMessage='';\r\n        }\r\n\r\n        let totalQuantityErrorMessage=`Sum of the quantities should be ${Number(orderItem.orderQuantity)}.`;\r\n        if(totalQuantity !== Number(orderItem.orderQuantity)){\r\n          let errorMessage=`${totalQuantity} is not valid total quantity. ${totalQuantityErrorMessage} Current is ${totalQuantity}`;\r\n          this.$vs.notify({\r\n            title: \"notification\",\r\n            text: errorMessage,\r\n            color: \"danger\",\r\n            iconPack: \"feather\",\r\n            duration: 7000,\r\n            icon: \"icon-close\"\r\n          });\r\n          return;\r\n        }\r\n      }\r\n      this.isLoadingPayment = true;\r\n      this.$http\r\n        .post('/order-item-status', {orderItemsStatusInfo: this.orderItemStatuses})\r\n        .then(response => {\r\n          let notificationMessage=`Current status of your order, `;\r\n          for(let orderItemIndex=0; orderItemIndex<this.order.orderItems.length; orderItemIndex++){\r\n            for(let statusIndex=0; statusIndex<this.orderItemStatuses[orderItemIndex].statuses.length; statusIndex++){\r\n              let orderStatusTypeId=this.orderItemStatuses[orderItemIndex].statuses[statusIndex].orderStatusTypeId;\r\n              let orderStatusType=this.orderStatusTypes.find(ost=>ost.orderStatusTypeId===orderStatusTypeId);\r\n              notificationMessage += (orderStatusType!==undefined? orderStatusType.orderStatusType: 'Unkown')+\": \"+this.orderItemStatuses[orderItemIndex].statuses[statusIndex].quantity+\"  \";\r\n            }\r\n          }\r\n          this.sendNewNotification(notificationMessage, \"Notification sent\");\r\n          this.$vs.notify({\r\n            title: \"notification\",\r\n            text: this.$t(\"savedSuccessfully\"),\r\n            color: \"success\",\r\n            iconPack: \"feather\",\r\n            icon: \"icon-check\"\r\n          });\r\n          this.$router.push({ name: \"viewOrders\" });\r\n        })\r\n        .catch(_ => {\r\n          //this.isLoadingPayment = false;\r\n        });\r\n    },\r\n\r\n    getUserDetail() {\r\n      this.$http\r\n        .get(`/accounts/${this.order.userId}`)\r\n        .then(response => {\r\n          this.userDetails = response.data;\r\n        })\r\n        .catch(_ => {\r\n          this.isLoading = false;\r\n        });\r\n    },\r\n    getOrderItemsStatusByOrderId() {\r\n      this.$http\r\n        .get(`/order-item-status/${this.id}`)\r\n        .then(response => {\r\n          this.orderItemStatuses = response.data.orderItemsStatusInfo;\r\n          this.addNextOrderItemStatus();\r\n        })\r\n        .catch(_ => {\r\n          this.isLoading = false;\r\n        });\r\n    }\r\n  },\r\n  components: {\r\n    \"v-select\": vSelect,\r\n    Loading,\r\n    OrderVerification,\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manageOrderDeliveryStatus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manageOrderDeliveryStatus.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./manageOrderDeliveryStatus.vue?vue&type=template&id=2f58bafe&\"\nimport script from \"./manageOrderDeliveryStatus.vue?vue&type=script&lang=js&\"\nexport * from \"./manageOrderDeliveryStatus.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}