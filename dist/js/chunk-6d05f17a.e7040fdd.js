(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d05f17a"],{"04fa":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"ecommerce-checkout-demo"}},[s("form-wizard",{ref:"checkoutWizard",attrs:{color:"rgba(var(--vs-primary), 1)",title:null,subtitle:null,"hide-buttons":!0}},[s("tab-content",{attrs:{title:t.$t("Cart"),icon:"feather icon-shopping-cart"}},[t.cartItems.length?s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col lg:w-1/2 w-full relative"},t._l(t.cartItems,(function(e,r){return s("div",{key:e.inventoryId,staticClass:"items-list-view"},[s("CheckoutView",{attrs:{item:e}},[s("template",{slot:"item-meta"},[s("h6",{staticClass:"item-name font-semibold mb-1"},[t._v(t._s(e.inventoryGenericName)+" "+t._s(null!=e.dosageForm?e.dosageForm:"")+" "+t._s(null!=+e.strength?e.strength:""))]),e.inventoryBrandName?s("p",{staticClass:"text-sm mb-2 cursor-pointer"},[s("span",{staticClass:"text-primary font-semibold"},[t._v(t._s(e.inventoryBrandName))])]):t._e(),s("span",{staticClass:"mt-4 font-bold text-sm"},[t._v(t._s(t.$t("Quantity")))]),t._v(" \n                "),s("vs-input-number",{staticClass:"inline-flex",attrs:{min:"1",value:e.quantity},on:{input:function(e){return t.updateItemQuantity(e,r)}}})],1),s("template",{slot:"sellPrice"},[s("div",{staticClass:"my-2 centerTitle"},[s("del",{staticClass:"strike font-bold"},[t._v(t._s(((e.sellPrice+e.discountAmount*e.sellPrice/100)*e.quantity).toLocaleString("en-US"))+"\n                    ETB")]),t._v(" \n                  "),s("span",{staticClass:"text-center font-bold text-success font-bold"},[t._v(t._s((e.sellPrice*e.quantity).toLocaleString("en-US"))+"\n                    ETB")])])]),s("template",{on:{click:function(s){return t.removeItemFromCart(e)}},slot:"action-buttons"},[s("div",{staticClass:"item-view-primary-action-btn bg-grey p-1 rounded-lg flex flex-grow items-center justify-center cursor-pointer mb-1",on:{click:function(s){return t.removeItemFromCart(e)}}},[s("feather-icon",{staticClass:"text-black",attrs:{icon:"XIcon",svgClasses:"h-4 w-4"}}),s("span",{staticClass:"text-sm font-semibold ml-25 text-black"},[t._v(t._s(t.$t("remove")))])],1)])],2)],1)})),0),s("div",{staticClass:"vx-col lg:w-1/2 w-full"},[s("vx-card",[s("h5",{staticClass:"mb-3 bg-grey rounded-lg text-center py-2"},[t._v(t._s(t.$t("priceDetails")))]),s("vs-table",{staticClass:"text-black",attrs:{hoverFlat:"",data:t.cartItems},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.data;return t._l(r,(function(e,a){return s("vs-tr",{key:a},[s("vs-td",{staticClass:"py-0 text-left",attrs:{data:a}},[t._v(t._s(a+1))]),s("vs-td",[t._v(t._s(r[a].inventoryGenericName)+" "+t._s(null!=r[a].dosageForm?r[a].dosageForm:"")+" "+t._s(null!=+r[a].strength?r[a].strength:"")+"\n                  ")]),s("vs-td",[t._v("x"+t._s(r[a].quantity))]),s("vs-td",[t._v(t._s(r[a].sellPrice.toLocaleString("en-US"))+" ETB")]),s("vs-td",[t._v(t._s((r[a].sellPrice*r[a].quantity).toLocaleString("en-US"))+" ETB")])],1)}))}}],null,!1,1441710850)},[s("template",{slot:"thead"},[s("vs-th",[t._v("#")]),s("vs-th",[t._v(t._s(t.$t("genericName")))]),s("vs-th",[t._v(t._s(t.$t("orderQuantity")))]),s("vs-th",[t._v("\n                  "+t._s(t.$t("unitPrice"))+"\n                  "),s("i",{staticClass:"fas fa-parking-circle"})]),s("vs-th",[t._v(t._s(t.$t("subTotal")))])],1)],2),s("vs-table",{staticClass:"w-3/4 ml-auto mt-4 text-black",attrs:{hoverFlat:"",data:t.cartItems}},[s("vs-tr",[s("th",[t._v(t._s(t.$t("TOTAL")))]),s("td",[t._v(t._s(t.totalPrice.toLocaleString("en-US"))+" ETB")])]),s("vs-tr",[s("vs-th",[t._v(t._s(t.$t("TAX"))+"(5%)")]),s("vs-td",[t._v(t._s((.05*t.totalPrice).toLocaleString("en-US"))+" ETB\n                ")])],1),s("vs-tr",[s("th",[t._v(t._s(t.$t("grandTotal")))]),""!=t.totalPrice?s("td",{staticClass:"font-bold text-black"},[t._v(t._s((t.totalPrice+.05*t.totalPrice).toLocaleString("en-US"))+" ETB")]):t._e()])],1),s("vs-button",{staticClass:"w-1/2",staticStyle:{"margin-left":"290px"},on:{click:function(e){return t.$refs.checkoutWizard.nextTab()}}},[t._v("\n              "+t._s(t.$t("CONTINUE")))])],1)],1)]):t._e(),0==t.cartItems.length?s("vx-card",{attrs:{title:t.$t("youDontHaveCart")}},[s("vs-button",{on:{click:function(e){return t.$router.push("/pages/eCommerce/shop")}}},[t._v(t._s(t.$t("browseShop")))])],1):s("vx-card",[s("vs-button",{on:{click:function(e){return t.$router.push("/pages/eCommerce/shop")}}},[t._v(t._s(t.$t("browseShop")))])],1)],1),s("tab-content",{staticClass:"mb-5",attrs:{title:t.$t("Order"),icon:"feather icon-truck"}},[s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col lg:w-2/3 w-full"},[s("vx-card",{staticClass:"mb-base",attrs:{title:t.$t("addNewDeliveryAddress")}},[s("form",{attrs:{"data-vv-scope":"add-new-address"}},[0!=t.amountChecker?s("vs-alert",{attrs:{color:"danger","icon-pack":"feather",icon:"icon-info"}},[s("span",[t._v(t._s(t.amountChecker))])]):t._e(),s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col sm:w-1/3 w-full mt-2"},[s("span",{staticClass:"ml-2 "},[t._v(t._s(t.$t("howToGetYourOrder")))]),s("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",class:{danger:t.errors.has("orderTypeId")},attrs:{options:t.orderTypes,label:"orderType",reduce:function(t){return t.orderTypeId},name:"orderTypeId",size:"medium"},on:{input:function(e){return t.featchOrderStatusTypes(t.orderTypeId)}},model:{value:t.orderTypeId,callback:function(e){t.orderTypeId=e},expression:"orderTypeId"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("orderTypeId"),expression:"errors.has('orderTypeId')"}],staticClass:"text-danger"},[t._v(t._s(t.errors.first("orderTypeId")))])],1),"Pick Up"==t.orderType?s("div",{staticClass:"vx-col sm:w-1/3 w-full mt-3"},[s("span",{staticClass:"ml-2 "},[t._v(t._s(t.$t("pickupAddress")))]),s("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",class:{danger:t.errors.has("pickupAddress")},attrs:{options:t.pickupAddresses,label:"siteName",reduce:function(t){return t.siteId},name:"pickupAddress",size:"medium"},on:{input:function(e){return t.selectAdress(t.pickupAddress)}},model:{value:t.pickupAddress,callback:function(e){t.pickupAddress=e},expression:"pickupAddress"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("pickupAddress"),expression:"errors.has('pickupAddress')"}],staticClass:"text-danger"},[t._v(t._s(t.errors.first("pickupAddress")))])],1):s("div",{staticClass:"vx-col sm:w-1/3 w-full mt-0"},[s("vs-input",{staticClass:"w-full mt-2",attrs:{name:"deliveryAddress","icon-pack":"feather",icon:"icon-map","icon-no-border":"",label:t.$t("deliveryAddress"),size:"medium"},model:{value:t.deliveryAddress,callback:function(e){t.deliveryAddress=e},expression:"deliveryAddress"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("deliveryAddress"),expression:"errors.has('deliveryAddress')"}],staticClass:"text-danger"},[t._v(t._s(t.errors.first("deliveryAddress")))])],1),s("div",{staticClass:"vx-col sm:w-1/3 w-full mt-2"},[s("span",{staticClass:"ml-2 "},[t._v(t._s(t.$t("paymentOption")))]),s("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"validate",rawName:"v-validate:paymentOption",value:"required",expression:"'required'",arg:"paymentOption"}],staticClass:"w-full",class:{danger:t.errors.has("paymentOption")},attrs:{options:t.paymentOptions,name:"paymentOption"},model:{value:t.paymentOption,callback:function(e){t.paymentOption=e},expression:"paymentOption"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("paymentOption"),expression:"errors.has('paymentOption')"}],staticClass:"text-danger"},[t._v(t._s(t.errors.first("paymentOption")))])],1),"Partial Paid"==t.paymentOption?s("div",{staticClass:"vx-col sm:w-1/4 w-full"},[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full mt-2",attrs:{name:"amountToBePaid",label:t.$t("amountToBePaid"),type:"Number",size:"medium"},on:{change:function(e){return t.checkAmount()}},model:{value:t.amountToBePaid,callback:function(e){t.amountToBePaid=e},expression:"amountToBePaid"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("amountToBePaid"),expression:"errors.has('amountToBePaid')"}],staticClass:"text-danger"},[t._v(t._s(t.errors.first("amountToBePaid")))])],1):s("span"),s("div",{staticClass:"vx-col sm:w-1/3 w-full mt-2"},[s("span",{staticClass:"ml-1"},[t._v(t._s(t.$t("pickDeliveryDate"))+" ")]),s("flat-pickr",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"validate",rawName:"v-validate:deliveryDateTime",value:"required",expression:"'required'",arg:"deliveryDateTime"}],staticClass:"w-full",attrs:{config:t.configdateTimePicker,name:"deliveryDateTime",size:"medium"},model:{value:t.deliveryDateTime,callback:function(e){t.deliveryDateTime=e},expression:"deliveryDateTime"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("deliveryDateTime"),expression:"errors.has('deliveryDateTime')"}],staticClass:"text-danger"},[t._v(t._s(t.errors.first("deliveryDateTime")))])],1)]),s("div",{staticClass:"vx-row"})],1),s("div",{staticClass:"p-base"},[s("vs-table",{staticClass:"text-black",attrs:{hoverFlat:"",data:t.cartItems},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.data;return t._l(r,(function(e,a){return s("vs-tr",{key:a},[s("vs-td",{staticClass:"py-0 text-left",attrs:{data:a}},[t._v(t._s(a+1))]),s("vs-td",[t._v(t._s(r[a].inventoryGenericName)+" "+t._s(null!=r[a].dosageForm?r[a].dosageForm:"")+" "+t._s(null!=+r[a].strength?r[a].strength:"")+"\n                    ")]),s("vs-td",[t._v("x"+t._s(r[a].quantity))]),s("vs-td",[t._v(t._s(r[a].sellPrice.toLocaleString("en-US")))]),s("vs-td",[t._v(t._s((r[a].sellPrice*r[a].quantity).toLocaleString("en-US")))])],1)}))}}])},[s("template",{slot:"thead"},[s("vs-th",[t._v("#")]),s("vs-th",[t._v(t._s(t.$t("genericName")))]),s("vs-th",[t._v(t._s(t.$t("orderQuantity")))]),s("vs-th",[t._v("\n                    "+t._s(t.$t("unitPrice"))+"\n                    "),s("i",{staticClass:"fas fa-parking-circle"})]),s("vs-th",[t._v(t._s(t.$t("subTotal")))])],1)],2),s("vs-table",{staticClass:"w-3/5 ml-auto mt-4 text-black",attrs:{hoverFlat:"",data:t.cartItems}},[s("vs-tr",[s("th",[t._v(t._s(t.$t("TOTAL")))]),s("td",[t._v(t._s(t.totalPrice.toLocaleString("en-US"))+" ETB")])]),s("vs-tr",[s("vs-th",[t._v(t._s(t.$t("TAX"))+"(5%)")]),s("vs-td",[t._v(t._s((.05*t.totalPrice).toLocaleString("en-US"))+" ETB")])],1),s("vs-tr",[s("th",[t._v(t._s(t.$t("grandTotal")))]),s("td",[s("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),t._v("\n\n\n                    "+t._s((t.getTotalPrice(t.cartItems)+.05*t.totalPrice).toLocaleString("en-US"))+"\n                    "+t._s(t.$t("ETB"))+"\n\n                  ")],1)])],1)],1)])],1),s("div",{staticClass:"vx-col lg:w-1/3 w-full"},[s("vx-card",{attrs:{title:t.user.firstName+" "+t.user.lastName}},[s("div",[s("p",[t._v("\n                "+t._s(t.$t("Address"))+":\n                "),""!=t.deliveryAddress?s("strong",[t._v(t._s(t.deliveryAddress))]):t.filteredAdderess.length>0?s("strong",[t._v(t._s(t.filteredAdderess[0].siteName))]):s("strong",[t._v(t._s(t.companyInfo.street)+","+t._s(t.companyInfo.woredaCity)+","+t._s(t.companyInfo.region))])]),s("p",[t._v(t._s(t.$t("phoneNumber"))+": "+t._s(t.user.mobilePhone))]),s("p",[t._v(t._s(t.$t("Email"))+": "+t._s(t.user.email))]),s("p",[t._v("\n                "+t._s(t.$t("deliveryDate"))+":\n                "),t.deliveryDateTime?s("strong",[t._v(t._s(t.deliveryDateTime))]):t._e()])]),s("vs-divider"),t.orderType?s("div",["Pick Up"==t.orderType?s("vs-button",{staticClass:"w-full",on:{click:function(e){t.showConfirmation=!0,t.calculatePreOrderQuantity()}}},[t._v(t._s(t.$t("CONTINUE")))]):s("vs-button",{staticClass:"w-full",on:{click:function(e){t.showConfirmation=!0,t.calculatePreOrderQuantity()}}},[t._v("\n                "+t._s(t.$t("deliverToThisAddress")))])],1):t._e()],1),s("vs-popup",{staticClass:"holamundo",attrs:{title:t.$t("orderedProducts"),active:t.showConfirmation},on:{"update:active":function(e){t.showConfirmation=e}}},[t.checkPreOrderQuantity()?s("h4",{staticStyle:{"margin-top":"-10px"}},[s("strong",[t._v(t._s(t.$t("customerConfirmationText")))])]):s("h4",{staticStyle:{"margin-top":"-10px"}},[s("strong",[t._v(t._s(t.$t("theQuantitiesInThePreOrderFieldsAreNotInStock")))])]),s("vs-table",{staticClass:"stripe",attrs:{hoverFlat:"","max-items":t.perPage,data:t.cartItems},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.data;return t._l(r,(function(e,r){return s("vs-tr",{key:r,attrs:{data:e}},[s("vs-td",{staticClass:"w-10"},[t._v(t._s(r+1))]),s("vs-td",{staticClass:"lg:w-1/2"},[t._v(t._s(t.inventoryName(e)))]),0!=e.tempQuantity?s("vs-td",{staticClass:"lg:w-1/4"},[t._v(t._s(+e.tempQuantity))]):s("vs-td",{staticClass:"lg:w-1/4"},[t._v(t._s(t.$t("noQuantityInStock")))]),s("vs-td",{staticClass:"lg:w-1/4"},[0!=e.preOrderQuantity&&null!=e.preOrderQuantity||t.isPreOrder2?s("div",[s("vs-input-number",{staticClass:"mr-6 ml-4",attrs:{min:"1",size:"small",color:"primary"},on:{input:function(e){t.getTotalPrice(t.cartItems),t.isPreOrder23()}},model:{value:e.preOrderQuantity,callback:function(s){t.$set(e,"preOrderQuantity",s)},expression:"tr.preOrderQuantity"}})],1):t._e()])],1)}))}}])},[s("template",{slot:"thead"},[s("vs-th",{attrs:{"sort-key":"number"}},[t._v("#")]),s("vs-th",{staticClass:"lg:w-1/2",attrs:{"sort-key":"itemName"}},[t._v(t._s(t.$t("itemName")))]),!t.checkOrderQuantity()&&t.checkPreOrderQuantity()?s("vs-th",{staticClass:"lg:w-1/2",attrs:{"sort-key":"orderQuantity"}},[t._v(t._s(t.$t("orderQuantity")))]):t.checkOrderQuantity()||t.checkPreOrderQuantity()?t.checkOrderQuantity()&&!t.checkPreOrderQuantity()?s("vs-th",{staticClass:"lg:w-1/4",attrs:{"sort-key":"orderQuantity"}},[t._v(t._s(t.$t("orderQuantity")))]):t._e():s("vs-th",{staticClass:"lg:w-1/4",attrs:{"sort-key":"orderQuantity"}},[t._v(t._s(t.$t("orderQuantity")))]),!t.checkOrderQuantity()&&!t.checkPreOrderQuantity()||t.isPreOrder2?s("vs-th",{staticClass:"lg:w-1/4",attrs:{"sort-key":"preOrderQuantity"}},[t._v(t._s(t.$t("preOrderQuantity")))]):t.checkOrderQuantity()&&!t.checkPreOrderQuantity()||t.isPreOrder2?s("vs-th",{staticClass:"lg:w-1/2",attrs:{"sort-key":"order"}},[t._v(t._s(t.$t("preOrderQuantity")))]):t._e()],1)],2),s("vs-table",{attrs:{hoverFlat:"",data:t.cartItems}},[s("vs-tr",[s("th",[t._v(t._s(t.$t("TOTAL")))]),s("td",[t._v(t._s(t.totalPrice.toLocaleString("en-US"))+" Birr")])]),s("vs-tr",[s("vs-th",[t._v(t._s(t.$t("TAX"))+"(5%)")]),s("vs-td",[t._v(t._s((.05*t.totalPrice).toLocaleString("en-US"))+" Birr")])],1),s("vs-tr",[s("th",[t._v(t._s(t.$t("grandTotal")))]),""!=t.totalPrice?s("td",{staticClass:"font-bold text-black"},[t._v(t._s((t.totalPrice+.05*t.totalPrice).toLocaleString("en-US"))+" Birr")]):t._e()])],1),s("div",{staticClass:"flex items-stretch mt-5"},[s("vs-button",{staticClass:"flex-1",attrs:{icon:"icon-check-circle","icon-pack":"feather",color:"success",type:"filled"},on:{click:function(e){e.preventDefault(),t.showConfirmation=!1,t.orderInventory(t.cartItems)}}},[t._v(t._s(t.$t("Confirm")))]),s("vs-button",{staticClass:"flex-1",attrs:{icon:"icon-x","icon-pack":"feather",color:"dark",type:"border"},on:{click:function(e){return t.cancelOrder()}}},[t._v(t._s(t.$t("Cancel")))])],1)],1)],1)])]),s("tab-content",{staticClass:"mb-5",attrs:{title:t.$t("Confirmation"),icon:"feather icon-pocket"}},[s("div",{attrs:{id:"invoice-page"}},[s("div",{staticClass:"vx-row leading-loose px-5"},[s("vs-col",[s("vs-row",[s("vs-chip",{attrs:{color:"success"}},[s("vs-avatar",{attrs:{"icon-pack":"feather",icon:"icon-message-square",color:"success",size:"30px"}}),s("h5",{staticClass:"text-white"},[t._v("Dear customer your products have been succesfully ordered. Thank you for\n                  ordering with us.")])],1),s("vs-button",{staticClass:"text-center text-black",attrs:{color:"dark",type:"border","icon-pack":"feather",icon:"icon-x"},on:{click:function(e){return t.navigateToShop(t.cartItems)}}},[t._v("Close")])],1)],1),s("div",{staticClass:"vx-col w-full lg:w-1/2 mb-base p-5"},[s("vx-card",{attrs:{title:"Ordered Items"}},[s("vs-table",{attrs:{hoverFlat:"",data:t.orderResponse.cartItems},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.data;return t._l(r,(function(e,a){return s("vs-tr",{key:a},[s("vs-td",[t._v(t._s(r[a].inventoryGenericName))]),s("vs-td",[t._v("x"+t._s(r[a].quantity))]),s("vs-td",[t._v(t._s(r[a].sellPrice*t.quantity[a]))])],1)}))}}])},[s("template",{slot:"thead"},[s("vs-th",[t._v("ITEM")]),s("vs-th",[t._v("QUANTITY")])],1)],2)],1)],1),s("div",{staticClass:"vx-col w-full lg:w-1/2 mb-base mt-5"},[s("vx-card",{attrs:{title:"Order Details"}},[s("ul",{staticClass:"activity-timeline"},[s("li",[s("div",{staticClass:"timeline-icon bg-warning"},[s("feather-icon",{attrs:{icon:"HashIcon",svgClasses:"text-white stroke-current w-5 h-5"}})],1),s("div",{staticClass:"timeline-info"},[s("p",{staticClass:"font-semibold"},[t._v("Order Number")]),s("span",{staticClass:"activity-desc"},[t._v("This is your unique order number to follow up on your products\n                      .")]),s("h6",{staticClass:"text-black"},[t._v("\n                      Order Number:\n                      "),s("b",{staticClass:"rounded-full bg-grey py-2 px-4 text-black"},[t._v(t._s(t.orderResponse.orderNumber))])])])]),s("li",[s("div",{staticClass:"timeline-icon bg-primary"},[s("feather-icon",{attrs:{icon:"InfoIcon",svgClasses:"text-white stroke-current w-5 h-5"}})],1),s("div",{staticClass:"timeline-info"},[s("p",{staticClass:"font-semibold"},[t._v("Order Status")]),s("span",{staticClass:"activity-desc"},[t._v("\n                      Your products are now\n                      "),s("b",[t._v("ordered")]),t._v(" and ready for shipment .\n                    ")])])]),s("li",[s("div",{staticClass:"timeline-icon bg-danger"},[s("feather-icon",{attrs:{icon:"MapPinIcon",svgClasses:"text-white stroke-current w-5 h-5"}})],1),s("div",{staticClass:"timeline-info"},[s("p",{staticClass:"font-semibold"},[t._v("Delivery Address")]),s("h5",{staticClass:"text-black"},[s("small",[t._v("Delivery Location:")]),s("b",{staticClass:"py-2 px-4 text-black"},[t._v(t._s(t.orderResponse.deliveryAddress))])])])]),s("li",[s("div",{staticClass:"timeline-icon bg-success"},[s("feather-icon",{attrs:{icon:"ClockIcon",svgClasses:"text-white stroke-current w-5 h-5"}})],1),s("div",{staticClass:"timeline-info"},[s("p",{staticClass:"font-semibold"},[t._v("Delivery Date")]),s("h6",{staticClass:"font-bold py-2 px-4 text-black"},[t._v(t._s(t._f("date2")(t.orderResponse.deliveryTime)))]),t._v(" \n                  ")])])])])],1)],1)])])],1)],1)},a=[],i=(s("20d6"),s("7514"),s("6c7b"),s("2ee4")),n=(s("da93"),s("c38f")),o=s.n(n),c=(s("0952"),s("9062")),l=s.n(c),d=(s("e40d"),s("4a7a")),u=s.n(d),v=(s("7bb1"),function(){return s.e("chunk-5c2ed364").then(s.bind(null,"c91d"))}),m={data:function(){return{orderStatusTypeId:"",creditAmount:"",amountToBePaid:"",amountChecker:"",paymentOptions:["In Cash","Post Paid","Partial Paid"],paymentOption:"",options:["Delivery","Pickup"],pickupAddresses:[],pickupAddress:"",quantity:new Array(this.$store.state.eCommerce.cartItems.length).fill(1),totalPrice:"",companyInfo:{},showConfirmation:!1,companyAddress:"companyAddress",deliveryAddress:"",deliveryTime:"",deliveryDateTime:"",filteredAdderess:[],orderDateTime:"",configdateTimePicker:{enableTime:!0,dateFormat:"Y-m-dTH:i"},user:{},fullName:"",mobileNum:"",pincode:"",houseNum:"",area:"",landmark:"",city:"",state:"",addressType:1,addressTypeOptions:[{text:"Home",value:1},{text:"Office",value:2}],isOrdered:!1,orderResponse:{},orderDetails:[],isLoading:!1,fullPage:!1,paymentMethod:"debit-card",isPreOrder:!1,orderTypes:[],x:20,y:0,z:0,cvv:"",orderStatusTypes:[],orderTypeId:"",orderStatusType:"",orderType:"",isPreOrder2:!1}},created:function(){this.getUserId(),this.getSites(),this.getOrderTypes()},computed:{cartItems:function(){return this.$store.state.eCommerce.cartItems.slice().reverse()},isInWishList:function(){var t=this;return function(e){return t.$store.getters["eCommerce/isInWishList"](e)}}},methods:{selectAdress:function(t){this.filteredAdderess=this.pickupAddresses.filter((function(e){return e.siteId==t}))},getInstantFromDate:function(t){if(!(JSON.stringify(t).indexOf("Z")>0)){var e=t+":00Z";return e}},isPreOrder23:function(){this.isPreOrder2=!0},assignOrderStatusType:function(t){this.orderStatusType=this.orderStatusTypes.find((function(e){return e.orderStatusTypeId==t})).orderStatusType},featchOrderStatusTypes:function(t){var e=this;this.orderType=this.orderTypes.find((function(e){return e.orderTypeId==t})).orderType,this.$http.get("/order-type-status-type",{params:{orderTypeId:t}}).then((function(t){e.orderStatusTypes=t.data,e.totalPage=t.data[0].totalPage,e.isLoading=!1})).catch((function(t){e.isLoading=!1}))},getOrderTypes:function(){var t=this;this.$http.get("/order-type",{params:{page:this.currentPage,limit:this.perPage,searchKey:this.searchKey}}).then((function(e){t.orderTypes=e.data,t.totalPage=e.data[0].totalPage,t.isLoading=!1})).catch((function(e){t.isLoading=!1}))},checkPreOrderQuantity:function(){for(var t=0;t<this.cartItems.length;t++)if(this.cartItems[t].preOrderQuantity>0)return!1;return!0},checkOrderQuantity:function(){for(var t=0;t<this.cartItems.length;t++)if(this.cartItems[t].tempQuantity>0)return!1;return!0},calculatePreOrderQuantity:function(){for(var t=this,e=[],s=0;s<this.cartItems.length;s++)e.push(this.cartItems[s].inventoryId);this.$http.get("/inventory/selected-items",{params:{inventoryIds:e.join(",")}}).then((function(e){t.orderResponse=e.data;for(var s=function(s){t.cartItems[s].quantity>e.data.find((function(e){return e.inventoryId==t.cartItems[s].inventoryId})).availableQuantity?(t.cartItems[s].preOrderQuantity=t.cartItems[s].quantity-e.data.find((function(e){return e.inventoryId==t.cartItems[s].inventoryId})).availableQuantity,t.cartItems[s].tempQuantity=e.data.find((function(e){return e.inventoryId==t.cartItems[s].inventoryId})).availableQuantity):t.cartItems[s].tempQuantity=t.cartItems[s].quantity},r=0;r<e.data.length;r++)s(r);t.$store.dispatch("invoice/insertOrder",e.data),t.isLoading=!1}))},acceptAlert:function(t){this.updateItemQuantity(this.x+this.y,this.z),this.$vs.notify({color:"success",title:"Accept Selected",text:"Lorem ipsum dolor sit amet, consectetur"}),this.isPreOrder=!1,this.y=0},close:function(){this.y=0,this.updateItemQuantity(this.x,this.z),this.$vs.notify({color:"danger",title:"Closed",text:"You close a dialog!"})},cancel:function(){this.y=0,this.updateItemQuantity(this.x,this.z),this.$vs.notify({color:"danger",title:"Closed",text:"You close a dialog!"})},checkAmount:function(){this.creditAmount=parseInt(this.totalPrice)+parseInt(.05*this.totalPrice)-this.amountToBePaid,parseInt(this.totalPrice)+parseInt(.05*this.totalPrice)==parseInt(this.creditAmount)+parseInt(this.amountToBePaid)?this.amountChecker="":""!=this.creditAmount&&""!=this.amountToBePaid?this.amountChecker="Sum of the credit amount and amount to be paid should be equal with the total price":this.amountChecker=""},getSites:function(){var t=this;this.$http.get("/stock-site",{params:{}}).then((function(e){t.pickupAddresses=e.data})).catch((function(t){}))},inventoryName:function(t){return t.inventoryGenericName+" "+(null!=t.dosageForm?t.dosageForm:"")+" "+(null!=t.strength?t.strength:"")},removeItemFromCart:function(t){this.$store.dispatch("eCommerce/toggleItemInCart",t);var e=JSON.parse(localStorage.getItem("cartItems")),s=e.findIndex((function(e){return e.inventoryId==t.inventoryId}));s<0?(e.push(t),localStorage.setItem("cartItems",JSON.stringify(e))):(e.splice(s,1),localStorage.setItem("cartItems",JSON.stringify(e)))},wishListButtonClicked:function(t){this.isInWishList(t.objectID)?this.$router.push("/apps/eCommerce/wish-list"):(this.toggleItemInWishList(t),this.removeItemFromCart(t))},toggleItemInWishList:function(t){this.$store.dispatch("eCommerce/toggleItemInWishList",t)},updateItemQuantity:function(t,e){t>this.x&&(this.isPreOrder=!0,this.y=t-this.x,this.z=e);var s=Math.abs(e+1-this.cartItems.length);this.$store.dispatch("eCommerce/updateItemQuantity",{quantity:t,index:s})},getTotalPrice:function(t){for(var e=[],s=0;s<t.length;s++)0!=t[s].tempQuantity&&null!=t[s].tempQuantity?0!=t[s].preOrderQuantity&&null!=t[s].preOrderQuantity?e.push(t[s].sellPrice*t[s].tempQuantity+t[s].sellPrice*t[s].preOrderQuantity):e.push(t[s].sellPrice*t[s].tempQuantity):e.push(t[s].sellPrice*t[s].quantity);return this.totalPrice=e.reduce((function(t,e){return t+e}),0),this.totalPrice},getTotalDiscount:function(t){for(var e=[],s=0;s<t.length;s++)0!=t[s].tempQuantity&&null!=t[s].tempQuantity?0!=t[s].preOrderQuantity&&null!=t[s].preOrderQuantity?e.push(this.cartItems[s].tempQuantity*t[s].discountAmount+this.cartItems[s].preOrderQuantity*t[s].discountAmount):e.push(this.cartItems[s].tempQuantity*t[s].discountAmount):e.push(this.cartItems[s].quantity*t[s].discountAmount);return e.reduce((function(t,e){return t+e}),0)},cancelOrder:function(){this.showConfirmation=!1,this.$vs.notify({title:"Notification",text:"Confirmation canceled!",color:"warning",position:"top-right"})},submitNewAddressForm:function(t){var e=this;return new Promise((function(){e.$validator.validateAll().then((function(t){t?e.showConfirmation=!0:e.$vs.notify({title:"Error",text:"Please enter required details",color:"warning",iconPack:"feather",position:"top-right",icon:"icon-alert-circle"})}))}))},getUserId:function(){var t=this,e=localStorage.getItem("userId");this.$http.get("/accounts/".concat(e)).then((function(e){t.user=e.data,t.$http.get("/company/".concat(t.user.companyId)).then((function(e){t.companyInfo=e.data,console.log(e.data)})),console.log(e.data)}))},navigateToShop:function(t){this.$router.push({path:"/pages/invoice/"+this.orderResponse.orderId})},getDateFormatted:function(t){return new Date(t).toLocaleDateString(["en-US"],{timeZone:"Africa/Nairobi",month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},orderInventory:function(t){for(var e=this,s=localStorage.getItem("userId"),r=0;r<t.length;r++){var a={};a["inventoryId"]=t[r].inventoryId,a["orderQuantity"]=t[r].tempQuantity,a["preOrderQuantity"]=t[r].preOrderQuantity,a["unitPrice"]=t[r].sellPrice,this.orderDetails.push(a)}var i=this.getInstantFromDate(this.deliveryDateTime);this.isLoading=!0,this.$validator.validateAll().then((function(r){r&&e.$http.post("/order",{companyId:e.user.companyId,userId:s,deliveryAddress:""!=e.deliveryAddress?e.deliveryAddress:e.companyInfo.street+","+e.companyInfo.woredaCity+","+e.companyInfo.region,deliveryDateTime:i,totalPrice:(e.totalPrice+.05*e.totalPrice).toFixed(2),amountTobePaid:e.amountToBePaid,creditAmount:e.creditAmount,siteId:e.pickupAddress,orderTypeId:e.orderTypeId,orderItems:e.orderDetails,paymentOption:e.paymentOption}).then((function(s){e.orderResponse=s.data,e.orderResponse["cartItems"]=t,e.$store.dispatch("invoice/insertOrder",s.data),e.isLoading=!1,e.$vs.notify({title:"Notification",text:"Order successful",color:"success",position:"top-right"}),e.$router.push({path:"/pages/invoice/"+s.data.orderId}),e.isOrdered=!0;for(var r=0;r<e.orderDetails.length;r++)e.$store.dispatch("eCommerce/toggleItemInCart",t[r]);localStorage.removeItem("cartItems")})).catch((function(t){e.isLoading=!1}))}))}},components:{CheckoutView:v,flatPickr:o.a,FormWizard:i["FormWizard"],TabContent:i["TabContent"],Loading:l.a,VSelect:u.a}},p=m,h=(s("c71b"),s("2877")),y=Object(h["a"])(p,r,a,!1,null,"3f201b14",null);e["default"]=y.exports},"36bd":function(t,e,s){"use strict";var r=s("4bf8"),a=s("77f1"),i=s("9def");t.exports=function(t){var e=r(this),s=i(e.length),n=arguments.length,o=a(n>1?arguments[1]:void 0,s),c=n>2?arguments[2]:void 0,l=void 0===c?s:a(c,s);while(l>o)e[o++]=t;return e}},"694b":function(t,e,s){},"6c7b":function(t,e,s){var r=s("5ca1");r(r.P,"Array",{fill:s("36bd")}),s("9c6c")("fill")},c71b:function(t,e,s){"use strict";s("694b")}}]);
//# sourceMappingURL=chunk-6d05f17a.e7040fdd.js.map